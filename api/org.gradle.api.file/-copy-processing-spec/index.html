<HTML>
<HEAD>
<meta charset="UTF-8">
<title>CopyProcessingSpec - api</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">api</a>&nbsp;/&nbsp;<a href="../index.html">org.gradle.api.file</a>&nbsp;/&nbsp;<a href=".">CopyProcessingSpec</a><br/>
<br/>
<h1>CopyProcessingSpec</h1>
<code><span class="keyword">interface </span><span class="identifier">CopyProcessingSpec</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../-content-filterable/index.html"><span class="identifier">ContentFilterable</span></a></code>
<p>Specifies the destination of a copy.</p>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="each-file.html">eachFile</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">eachFile</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$eachFile(org.gradle.api.Action((org.gradle.api.file.FileCopyDetails)))/action">action</span><span class="symbol">:</span>&nbsp;<a href="../../org.gradle.api/-action/index.html"><span class="identifier">Action</span></a><span class="symbol">&lt;</span><span class="keyword">in</span>&nbsp;<a href="../-file-copy-details/index.html"><span class="identifier">FileCopyDetails</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">CopyProcessingSpec</span></code>
<p>Adds an action to be applied to each file as it is about to be copied into its destination. The action can change the destination path of the file, filter the contents of the file, or exclude the file from the result entirely. Actions are executed in the order added, and are inherited from the parent spec.</p>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">eachFile</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$eachFile(groovy.lang.Closure((kotlin.Any)))/closure">closure</span><span class="symbol">:</span>&nbsp;<span class="identifier">Closure</span><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">CopyProcessingSpec</span></code>
<p>Adds an action to be applied to each file as it about to be copied into its destination. The given closure is called with a org.gradle.api.file.FileCopyDetails as its parameter. Actions are executed in the order added, and are inherited from the parent spec.</p>
</td>
</tr>
<tr>
<td>
<p><a href="get-dir-mode.html">getDirMode</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">getDirMode</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>Returns the Unix permissions to use for the target directories. <code>null</code> means that existing permissions are preserved. It is dependent on the copy action implementation whether these permissions will actually be applied.</p>
</td>
</tr>
<tr>
<td>
<p><a href="get-file-mode.html">getFileMode</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">getFileMode</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>Returns the Unix permissions to use for the target files. <code>null</code> means that existing permissions are preserved. It is dependent on the copy action implementation whether these permissions will actually be applied.</p>
</td>
</tr>
<tr>
<td>
<p><a href="into.html">into</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">into</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$into(kotlin.Any)/destPath">destPath</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">CopyProcessingSpec</span></code>
<p>Specifies the destination directory for a copy. The destination is evaluated as per <code><a href="#"> </a></code>.</p>
</td>
</tr>
<tr>
<td>
<p><a href="rename.html">rename</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">rename</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$rename(groovy.lang.Closure((kotlin.Any)))/closure">closure</span><span class="symbol">:</span>&nbsp;<span class="identifier">Closure</span><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">CopyProcessingSpec</span></code>
<p>Renames a source file. The closure will be called with a single parameter, the name of the file. The closure should return a String object with a new target name. The closure may return null, in which case the original name will be used.</p>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">rename</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$rename(org.gradle.api.Transformer((kotlin.String, )))/renamer">renamer</span><span class="symbol">:</span>&nbsp;<a href="../../org.gradle.api/-transformer/index.html"><span class="identifier">Transformer</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">,</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">CopyProcessingSpec</span></code>
<p>Renames a source file. The function will be called with a single parameter, the name of the file. The function should return a new target name. The function may return null, in which case the original name will be used.</p>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">rename</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$rename(kotlin.String, kotlin.String)/sourceRegEx">sourceRegEx</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">, </span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$rename(kotlin.String, kotlin.String)/replaceWith">replaceWith</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">CopyProcessingSpec</span></code>
<p>Renames files based on a regular expression. Uses java.util.regex type of regular expressions. Note that the replace string should use the '$1' syntax to refer to capture groups in the source regular expression. Files that do not match the source regular expression will be copied with the original name. 
<p> Example: </p>
<pre><code> rename '(.*)_OEM_BLUE_(.*)', '$1$2' </code></pre> would map the file 'style_OEM_BLUE_.css' to 'style.css'</p>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">rename</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$rename(java.util.regex.Pattern, kotlin.String)/sourceRegEx">sourceRegEx</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html"><span class="identifier">Pattern</span></a><span class="symbol">, </span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$rename(java.util.regex.Pattern, kotlin.String)/replaceWith">replaceWith</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">CopyProcessingSpec</span></code>
<p>Renames files based on a regular expression. See <code><a href="#">#rename(String, String)</a></code>.</p>
</td>
</tr>
<tr>
<td>
<p><a href="set-dir-mode.html">setDirMode</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">setDirMode</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$setDirMode(kotlin.Int)/mode">mode</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">CopyProcessingSpec</span></code>
<p>Sets the Unix permissions to use for the target directories. <code>null</code> means that existing permissions are preserved. It is dependent on the copy action implementation whether these permissions will actually be applied.</p>
</td>
</tr>
<tr>
<td>
<p><a href="set-file-mode.html">setFileMode</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">setFileMode</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.CopyProcessingSpec$setFileMode(kotlin.Int)/mode">mode</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">CopyProcessingSpec</span></code>
<p>Sets the Unix permissions to use for the target files. <code>null</code> means that existing permissions are preserved. It is dependent on the copy action implementation whether these permissions will actually be applied.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../-content-filterable/expand.html">expand</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">expand</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.ContentFilterable$expand(kotlin.collections.MutableMap((kotlin.String, kotlin.Any)))/properties">properties</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/index.html"><span class="identifier">MutableMap</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">,</span>&nbsp;<span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-content-filterable/index.html"><span class="identifier">ContentFilterable</span></a></code>
<p>
<p>Expands property references in each file as it is copied. More specifically, each file is transformed using Groovy's groovy.text.SimpleTemplateEngine. This means you can use simple property references, such as <code>$property</code> or <code>${property}</code> in the file. You can also include arbitrary Groovy code in the file, such as <code>${version ?: 'unknown'}</code> or <code>${classpath*.name.join(' ')}</code></p>
</p>
</td>
</tr>
<tr>
<td>
<p><a href="../-content-filterable/filter.html">filter</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">filter</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.ContentFilterable$filter(kotlin.collections.MutableMap((kotlin.String, kotlin.Any)), java.lang.Class((java.io.FilterReader)))/properties">properties</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/index.html"><span class="identifier">MutableMap</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">,</span>&nbsp;<span class="identifier">*</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="org.gradle.api.file.ContentFilterable$filter(kotlin.collections.MutableMap((kotlin.String, kotlin.Any)), java.lang.Class((java.io.FilterReader)))/filterType">filterType</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html"><span class="identifier">Class</span></a><span class="symbol">&lt;</span><span class="keyword">out</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/FilterReader.html"><span class="identifier">FilterReader</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-content-filterable/index.html"><span class="identifier">ContentFilterable</span></a></code>
<p>
<p>Adds a content filter to be used during the copy. Multiple calls to filter, add additional filters to the filter chain. Each filter should implement <code>java.io.FilterReader</code>. Include <code>org.apache.tools.ant.filters.*</code> for access to all the standard Ant filters.</p>
 
<p>Filter properties may be specified using groovy map syntax.</p>
 
<p> Examples: </p>
<pre><code> filter(HeadFilter, lines:25, skip:2) filter(ReplaceTokens, tokens:[copyright:'2009', version:'2.3.1']) </code></pre></p>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">filter</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.ContentFilterable$filter(java.lang.Class((java.io.FilterReader)))/filterType">filterType</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html"><span class="identifier">Class</span></a><span class="symbol">&lt;</span><span class="keyword">out</span>&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/FilterReader.html"><span class="identifier">FilterReader</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-content-filterable/index.html"><span class="identifier">ContentFilterable</span></a></code>
<p>
<p>Adds a content filter to be used during the copy. Multiple calls to filter, add additional filters to the filter chain. Each filter should implement <code>java.io.FilterReader</code>. Include <code>org.apache.tools.ant.filters.*</code> for access to all the standard Ant filters.</p>
 
<p> Examples: </p>
<pre><code> filter(StripJavaComments) filter(com.mycompany.project.CustomFilter) </code></pre></p>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">filter</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.ContentFilterable$filter(groovy.lang.Closure((kotlin.Any)))/closure">closure</span><span class="symbol">:</span>&nbsp;<span class="identifier">Closure</span><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-content-filterable/index.html"><span class="identifier">ContentFilterable</span></a></code>
<p>Adds a content filter based on the provided closure. The Closure will be called with each line (stripped of line endings) and should return a String to replace the line or <code>null</code> to remove the line. If every line is removed, the result will be an empty file, not an absent one.</p>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">filter</span><span class="symbol">(</span><span class="identifier" id="org.gradle.api.file.ContentFilterable$filter(org.gradle.api.Transformer((kotlin.String, )))/transformer">transformer</span><span class="symbol">:</span>&nbsp;<a href="../../org.gradle.api/-transformer/index.html"><span class="identifier">Transformer</span></a><span class="symbol">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">,</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-content-filterable/index.html"><span class="identifier">ContentFilterable</span></a></code>
<p>Adds a content filter based on the provided transformer. The Closure will be called with each line (stripped of line endings) and should return a String to replace the line or <code>null</code> to remove the line. If every line is removed, the result will be an empty file, not an absent one.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inheritors</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="../-copy-spec/index.html">CopySpec</a></p>
</td>
<td>
<code><span class="keyword">interface </span><span class="identifier">CopySpec</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../-copy-source-spec/index.html"><span class="identifier">CopySourceSpec</span></a><span class="symbol">, </span><span class="identifier">CopyProcessingSpec</span><span class="symbol">, </span><a href="../../org.gradle.api.tasks.util/-pattern-filterable/index.html"><span class="identifier">PatternFilterable</span></a></code>
<p>A set of specifications for copying files. This includes: <ul> <li>source directories (multiples allowed) </li>
<li>destination directory </li>
<li>ANT like include patterns </li>
<li>ANT like exclude patterns </li>
<li>File relocating rules </li>
<li>renaming rules </li>
<li>content filters </li>
</ul>
 CopySpecs may be nested by passing a closure to one of the from methods. The closure creates a child CopySpec and delegates methods in the closure to the child. Child CopySpecs inherit any values specified in the parent. This allows constructs like: <pre><code> def myCopySpec = project.copySpec { into('webroot') exclude('**/.data/**') from('src/main/webapp') { include '**/*.jsp' } from('src/main/js') { include '**/*.js' } } </code></pre> In this example, the <code>into</code> and <code>exclude</code> specifications at the root level are inherited by the two child CopySpecs. Copy specs can be reused in other copy specs via <code><a href="#">#with(CopySpec...)</a></code> method. This enables reuse of the copy spec instances. <pre><code> def contentSpec = copySpec { from("content") { include "**/*.txt" } } task copy(type: Copy) { into "$buildDir/copy" with contentSpec } </code></pre></p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
