<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Dependency Management - Gradle User Manual</title><link xmlns:xslthl="http://xslthl.sf.net" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,400i"><link xmlns:xslthl="http://xslthl.sf.net" crossorigin="crossorigin" href="//assets.gradle.com" rel="preconnect"><meta xmlns:xslthl="http://xslthl.sf.net" content="width=device-width, initial-scale=1" name="viewport"><link xmlns:xslthl="http://xslthl.sf.net" type="text/css" rel="stylesheet" href="base.css"><meta content="DocBook XSL Stylesheets V1.75.2" name="generator"><link rel="home" href="userguide.html" title="Gradle User Manual"><link rel="up" href="pt03.html" title="Writing Gradle build scripts"></head><body><header xmlns:xslthl="http://xslthl.sf.net" itemtype="https://schema.org/WPHeader" itemscope="itemscope" class="site-layout__header site-header"><nav itemtype="https://schema.org/SiteNavigationElement" itemscope="itemscope" class="site-header__navigation"><div class="site-header__navigation-header"><a title="Gradle Docs" href="https://docs.gradle.org" class="logo" target="_top"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 191 43" height="36px" width="160px"><g fill-rule="evenodd" fill="none" stroke-width="1" stroke="none"><g><path fill="#02303A" id="Fill-9" d="M46.678556,7.70171633 C45.120512,4.8834998 42.335823,4.04123121 40.3684979,4.00130115 C37.9547479,3.9523229 35.9723457,5.29706115 36.3472787,6.1798499 C36.427757,6.36937016 36.8802727,7.35867186 37.1580527,7.76702066 C37.5601446,8.35790689 38.2799562,7.90392373 38.5320749,7.76908601 C39.2849364,7.36653985 40.0895198,7.23622623 41.0021397,7.34323092 C41.8745205,7.44551482 43.033468,7.9864393 43.8109923,9.4893242 C45.6407254,13.0263802 39.9923667,20.3060435 32.9221581,15.2649224 C25.8518496,10.2238013 18.9763466,11.8941761 15.8634538,12.9102289 C12.7506609,13.9260851 11.3198246,14.9477439 12.5498645,17.3104037 C14.2214368,20.5211347 13.6673747,19.5359637 15.2882237,22.1937715 C17.8627305,26.4150478 23.4981089,20.2511642 23.4981089,20.2511642 C19.3000571,26.4766148 15.7013989,24.9724514 14.3210861,22.7961647 C13.0771672,20.8346742 12.1106287,18.5733148 12.1106287,18.5733148 C1.47790725,22.3458205 4.35465711,39 4.35465711,39 L9.63497235,39 C10.9812366,32.8678834 15.794558,33.0939899 16.6195105,39 L20.6486178,39 C24.2119295,27.0258991 33.2432725,39 33.2432725,39 L38.4954303,39 C37.0244547,30.8318437 41.4498627,28.2655996 44.2387454,23.4777295 C47.0279277,18.6894661 49.6699325,12.8318441 46.678556,7.70171633 L46.678556,7.70171633 Z M33.1312419,23.4719269 C30.3544409,22.5602233 31.347639,19.7803632 31.347639,19.7803632 C31.347639,19.7803632 33.772672,20.5692278 37.0530115,21.6459626 C36.864197,22.5081962 35.2324645,24.1619498 33.1312419,23.4719269 L33.1312419,23.4719269 Z"/><path fill="#00303A" id="Fill-10" d="M35.9919757,21.336932 C36.0769161,22.1603228 35.477836,22.9008903 34.6537814,22.990975 C33.8297268,23.0810597 33.0929635,22.486564 33.0080231,21.663068 C32.9230827,20.8396772 33.5222651,20.0991097 34.3462175,20.009025 C35.1702721,19.9189403 35.9071376,20.513436 35.9919757,21.336932"/><path fill="#02303A" d="M72.236,22.3 L72.236,29.32 C71.3559956,29.9680032 70.418005,30.4419985 69.422,30.742 C68.425995,31.0420015 67.3600057,31.192 66.224,31.192 C64.8079929,31.192 63.5260057,30.9720022 62.378,30.532 C61.2299943,30.0919978 60.2500041,29.4800039 59.438,28.696 C58.6259959,27.9119961 58.0000022,26.9760054 57.56,25.888 C57.1199978,24.7999946 56.9,23.6120064 56.9,22.324 C56.9,21.0199935 57.1119979,19.8240054 57.536,18.736 C57.9600021,17.6479946 58.5619961,16.7120039 59.342,15.928 C60.1220039,15.1439961 61.0679944,14.5360022 62.18,14.104 C63.2920056,13.6719978 64.5399931,13.456 65.924,13.456 C66.6280035,13.456 67.2859969,13.5119994 67.898,13.624 C68.5100031,13.7360006 69.0779974,13.889999 69.602,14.086 C70.1260026,14.282001 70.6039978,14.5199986 71.036,14.8 C71.4680022,15.0800014 71.8639982,15.3879983 72.224,15.724 L71.3,17.188 C71.1559993,17.4200012 70.9680012,17.5619997 70.736,17.614 C70.5039988,17.6660003 70.2520014,17.6080008 69.98,17.44 L69.188,16.984 C68.9239987,16.8319992 68.6300016,16.7000006 68.306,16.588 C67.9819984,16.4759994 67.618002,16.3840004 67.214,16.312 C66.809998,16.2399996 66.3440026,16.204 65.816,16.204 C64.9599957,16.204 64.1860035,16.3479986 63.494,16.636 C62.8019965,16.9240014 62.2120024,17.3359973 61.724,17.872 C61.2359976,18.4080027 60.8600013,19.0519962 60.596,19.804 C60.3319987,20.5560038 60.2,21.3959954 60.2,22.324 C60.2,23.316005 60.3419986,24.2019961 60.626,24.982 C60.9100014,25.7620039 61.3099974,26.4219973 61.826,26.962 C62.3420026,27.5020027 62.9639964,27.9139986 63.692,28.198 C64.4200036,28.4820014 65.2319955,28.624 66.128,28.624 C66.7680032,28.624 67.3399975,28.5560007 67.844,28.42 C68.3480025,28.2839993 68.8399976,28.1000012 69.32,27.868 L69.32,24.724 L67.136,24.724 C66.927999,24.724 66.7660006,24.6660006 66.65,24.55 C66.5339994,24.4339994 66.476,24.2920008 66.476,24.124 L66.476,22.3 L72.236,22.3 Z M77.504,20.824 C77.8880019,20.0879963 78.3439974,19.5100021 78.872,19.09 C79.4000026,18.6699979 80.0239964,18.46 80.744,18.46 C81.3120028,18.46 81.7679983,18.5839988 82.112,18.832 L81.92,21.052 C81.8799998,21.1960007 81.8220004,21.2979997 81.746,21.358 C81.6699996,21.4180003 81.5680006,21.448 81.44,21.448 C81.3199994,21.448 81.1420012,21.4280002 80.906,21.388 C80.6699988,21.3479998 80.4400011,21.328 80.216,21.328 C79.8879984,21.328 79.5960013,21.3759995 79.34,21.472 C79.0839987,21.5680005 78.854001,21.7059991 78.65,21.886 C78.445999,22.0660009 78.2660008,22.2839987 78.11,22.54 C77.9539992,22.7960013 77.8080007,23.0879984 77.672,23.416 L77.672,31 L74.708,31 L74.708,18.688 L76.448,18.688 C76.7520015,18.688 76.9639994,18.7419995 77.084,18.85 C77.2040006,18.9580005 77.2839998,19.1519986 77.324,19.432 L77.504,20.824 Z M90.008,25.744 C89.1519957,25.7840002 88.4320029,25.8579995 87.848,25.966 C87.2639971,26.0740005 86.7960018,26.2119992 86.444,26.38 C86.0919982,26.5480008 85.8400008,26.7439989 85.688,26.968 C85.5359992,27.1920011 85.46,27.4359987 85.46,27.7 C85.46,28.2200026 85.6139985,28.5919989 85.922,28.816 C86.2300015,29.0400011 86.6319975,29.152 87.128,29.152 C87.736003,29.152 88.2619978,29.0420011 88.706,28.822 C89.1500022,28.6019989 89.5839979,28.2680022 90.008,27.82 L90.008,25.744 Z M83.216,20.404 C84.6320071,19.1079935 86.33599,18.46 88.328,18.46 C89.0480036,18.46 89.6919972,18.5779988 90.26,18.814 C90.8280028,19.0500012 91.307998,19.3779979 91.7,19.798 C92.092002,20.2180021 92.389999,20.7199971 92.594,21.304 C92.798001,21.8880029 92.9,22.5279965 92.9,23.224 L92.9,31 L91.556,31 C91.2759986,31 91.0600008,30.9580004 90.908,30.874 C90.7559992,30.7899996 90.6360004,30.6200013 90.548,30.364 L90.284,29.476 C89.9719984,29.7560014 89.6680015,30.0019989 89.372,30.214 C89.0759985,30.4260011 88.7680016,30.6039993 88.448,30.748 C88.1279984,30.8920007 87.7860018,31.0019996 87.422,31.078 C87.0579982,31.1540004 86.6560022,31.192 86.216,31.192 C85.6959974,31.192 85.2160022,31.1220007 84.776,30.982 C84.3359978,30.8419993 83.9560016,30.6320014 83.636,30.352 C83.3159984,30.0719986 83.0680009,29.7240021 82.892,29.308 C82.7159991,28.8919979 82.628,28.4080028 82.628,27.856 C82.628,27.5439984 82.6799995,27.2340015 82.784,26.926 C82.8880005,26.6179985 83.0579988,26.3240014 83.294,26.044 C83.5300012,25.7639986 83.8359981,25.5000012 84.212,25.252 C84.5880019,25.0039988 85.0499973,24.7880009 85.598,24.604 C86.1460027,24.4199991 86.7839964,24.2700006 87.512,24.154 C88.2400036,24.0379994 89.0719953,23.9680001 90.008,23.944 L90.008,23.224 C90.008,22.3999959 89.8320018,21.790002 89.48,21.394 C89.1279982,20.997998 88.6200033,20.8 87.956,20.8 C87.4759976,20.8 87.0780016,20.8559994 86.762,20.968 C86.4459984,21.0800006 86.1680012,21.2059993 85.928,21.346 C85.6879988,21.4860007 85.470001,21.6119994 85.274,21.724 C85.077999,21.8360006 84.8600012,21.892 84.62,21.892 C84.411999,21.892 84.2360007,21.8380005 84.092,21.73 C83.9479993,21.6219995 83.8320004,21.4960007 83.744,21.352 L83.216,20.404 Z M103.412,21.832 C103.075998,21.423998 102.710002,21.1360008 102.314,20.968 C101.917998,20.7999992 101.492002,20.716 101.036,20.716 C100.587998,20.716 100.184002,20.7999992 99.824,20.968 C99.4639982,21.1360008 99.1560013,21.3899983 98.9,21.73 C98.6439987,22.0700017 98.4480007,22.5019974 98.312,23.026 C98.1759993,23.5500026 98.108,24.1679964 98.108,24.88 C98.108,25.6000036 98.1659994,26.2099975 98.282,26.71 C98.3980006,27.2100025 98.5639989,27.6179984 98.78,27.934 C98.9960011,28.2500016 99.2599984,28.4779993 99.572,28.618 C99.8840016,28.7580007 100.231998,28.828 100.616,28.828 C101.232003,28.828 101.755998,28.7000013 102.188,28.444 C102.620002,28.1879987 103.027998,27.8240024 103.412,27.352 L103.412,21.832 Z M106.376,13.168 L106.376,31 L104.564,31 C104.171998,31 103.924001,30.8200018 103.82,30.46 L103.568,29.272 C103.071998,29.8400028 102.502003,30.2999982 101.858,30.652 C101.213997,31.0040018 100.464004,31.18 99.608,31.18 C98.9359966,31.18 98.3200028,31.0400014 97.76,30.76 C97.1999972,30.4799986 96.718002,30.0740027 96.314,29.542 C95.909998,29.0099973 95.5980011,28.3520039 95.378,27.568 C95.1579989,26.7839961 95.048,25.888005 95.048,24.88 C95.048,23.9679954 95.1719988,23.1200039 95.42,22.336 C95.6680012,21.5519961 96.0239977,20.8720029 96.488,20.296 C96.9520023,19.7199971 97.5079968,19.2700016 98.156,18.946 C98.8040032,18.6219984 99.531996,18.46 100.34,18.46 C101.028003,18.46 101.615998,18.5679989 102.104,18.784 C102.592002,19.0000011 103.027998,19.2919982 103.412,19.66 L103.412,13.168 L106.376,13.168 Z M112.304,13.168 L112.304,31 L109.34,31 L109.34,13.168 L112.304,13.168 Z M123.2,23.428 C123.2,23.0439981 123.146001,22.6820017 123.038,22.342 C122.929999,22.0019983 122.768001,21.7040013 122.552,21.448 C122.335999,21.1919987 122.062002,20.9900007 121.73,20.842 C121.397998,20.6939993 121.012002,20.62 120.572,20.62 C119.715996,20.62 119.042002,20.8639976 118.55,21.352 C118.057998,21.8400024 117.744001,22.5319955 117.608,23.428 L123.2,23.428 Z M117.548,25.216 C117.596,25.8480032 117.707999,26.3939977 117.884,26.854 C118.060001,27.3140023 118.291999,27.6939985 118.58,27.994 C118.868001,28.2940015 119.209998,28.5179993 119.606,28.666 C120.002002,28.8140007 120.439998,28.888 120.92,28.888 C121.400002,28.888 121.813998,28.8320006 122.162,28.72 C122.510002,28.6079994 122.813999,28.4840007 123.074,28.348 C123.334001,28.2119993 123.561999,28.0880006 123.758,27.976 C123.954001,27.8639994 124.143999,27.808 124.328,27.808 C124.576001,27.808 124.759999,27.8999991 124.88,28.084 L125.732,29.164 C125.403998,29.5480019 125.036002,29.8699987 124.628,30.13 C124.219998,30.3900013 123.794002,30.5979992 123.35,30.754 C122.905998,30.9100008 122.454002,31.0199997 121.994,31.084 C121.533998,31.1480003 121.088002,31.18 120.656,31.18 C119.799996,31.18 119.004004,31.0380014 118.268,30.754 C117.531996,30.4699986 116.892003,30.0500028 116.348,29.494 C115.803997,28.9379972 115.376002,28.2500041 115.064,27.43 C114.751998,26.6099959 114.596,25.6600054 114.596,24.58 C114.596,23.7399958 114.731999,22.9500037 115.004,22.21 C115.276001,21.4699963 115.665997,20.8260027 116.174,20.278 C116.682003,19.7299973 117.301996,19.2960016 118.034,18.976 C118.766004,18.6559984 119.591995,18.496 120.512,18.496 C121.288004,18.496 122.003997,18.6199988 122.66,18.868 C123.316003,19.1160012 123.879998,19.4779976 124.352,19.954 C124.824002,20.4300024 125.193999,21.0139965 125.462,21.706 C125.730001,22.3980035 125.864,23.1879956 125.864,24.076 C125.864,24.5240022 125.816,24.8259992 125.72,24.982 C125.624,25.1380008 125.440001,25.216 125.168,25.216 L117.548,25.216 Z M149.576,22.504 C149.576,23.8160066 149.380002,24.9959948 148.988,26.044 C148.595998,27.0920052 148.044004,27.9839963 147.332,28.72 C146.619996,29.4560037 145.766005,30.019998 144.77,30.412 C143.773995,30.804002 142.676006,31 141.476,31 L135.272,31 L135.272,14.02 L141.476,14.02 C142.676006,14.02 143.773995,14.215998 144.77,14.608 C145.766005,15.000002 146.619996,15.5639963 147.332,16.3 C148.044004,17.0360037 148.595998,17.9279948 148.988,18.976 C149.380002,20.0240052 149.576,21.1999935 149.576,22.504 Z M148.304,22.504 C148.304,21.3199941 148.140002,20.2640046 147.812,19.336 C147.483998,18.4079954 147.020003,17.6240032 146.42,16.984 C145.819997,16.3439968 145.100004,15.8560017 144.26,15.52 C143.419996,15.1839983 142.492005,15.016 141.476,15.016 L136.508,15.016 L136.508,30.004 L141.476,30.004 C142.492005,30.004 143.419996,29.8360017 144.26,29.5 C145.100004,29.1639983 145.819997,28.6760032 146.42,28.036 C147.020003,27.3959968 147.483998,26.6120046 147.812,25.684 C148.140002,24.7559954 148.304,23.696006 148.304,22.504 Z M157.52,18.868 C158.376004,18.868 159.141997,19.0139985 159.818,19.306 C160.494003,19.5980015 161.063998,20.0119973 161.528,20.548 C161.992002,21.0840027 162.345999,21.7299962 162.59,22.486 C162.834001,23.2420038 162.956,24.0879953 162.956,25.024 C162.956,25.9600047 162.834001,26.8039962 162.59,27.556 C162.345999,28.3080038 161.992002,28.9519973 161.528,29.488 C161.063998,30.0240027 160.494003,30.4359986 159.818,30.724 C159.141997,31.0120014 158.376004,31.156 157.52,31.156 C156.663996,31.156 155.898003,31.0120014 155.222,30.724 C154.545997,30.4359986 153.974002,30.0240027 153.506,29.488 C153.037998,28.9519973 152.682001,28.3080038 152.438,27.556 C152.193999,26.8039962 152.072,25.9600047 152.072,25.024 C152.072,24.0879953 152.193999,23.2420038 152.438,22.486 C152.682001,21.7299962 153.037998,21.0840027 153.506,20.548 C153.974002,20.0119973 154.545997,19.5980015 155.222,19.306 C155.898003,19.0139985 156.663996,18.868 157.52,18.868 Z M157.52,30.256 C158.232004,30.256 158.853997,30.1340012 159.386,29.89 C159.918003,29.6459988 160.361998,29.2960023 160.718,28.84 C161.074002,28.3839977 161.339999,27.8340032 161.516,27.19 C161.692001,26.5459968 161.78,25.824004 161.78,25.024 C161.78,24.231996 161.692001,23.5120032 161.516,22.864 C161.339999,22.2159968 161.074002,21.6620023 160.718,21.202 C160.361998,20.7419977 159.918003,20.3880012 159.386,20.14 C158.853997,19.8919988 158.232004,19.768 157.52,19.768 C156.807996,19.768 156.186003,19.8919988 155.654,20.14 C155.121997,20.3880012 154.678002,20.7419977 154.322,21.202 C153.965998,21.6620023 153.698001,22.2159968 153.518,22.864 C153.337999,23.5120032 153.248,24.231996 153.248,25.024 C153.248,25.824004 153.337999,26.5459968 153.518,27.19 C153.698001,27.8340032 153.965998,28.3839977 154.322,28.84 C154.678002,29.2960023 155.121997,29.6459988 155.654,29.89 C156.186003,30.1340012 156.807996,30.256 157.52,30.256 Z M174.212,20.656 C174.172,20.6960002 174.134,20.7299999 174.098,20.758 C174.062,20.7860001 174.012,20.8 173.948,20.8 C173.868,20.8 173.760001,20.7460005 173.624,20.638 C173.487999,20.5299995 173.304001,20.4120006 173.072,20.284 C172.839999,20.1559994 172.550002,20.0380005 172.202,19.93 C171.853998,19.8219995 171.432002,19.768 170.936,19.768 C170.247997,19.768 169.638003,19.8899988 169.106,20.134 C168.573997,20.3780012 168.124002,20.7279977 167.756,21.184 C167.387998,21.6400023 167.110001,22.1919968 166.922,22.84 C166.733999,23.4880032 166.64,24.215996 166.64,25.024 C166.64,25.8640042 166.737999,26.6079968 166.934,27.256 C167.130001,27.9040032 167.407998,28.4499978 167.768,28.894 C168.128002,29.3380022 168.563997,29.6759988 169.076,29.908 C169.588003,30.1400012 170.155997,30.256 170.78,30.256 C171.356003,30.256 171.837998,30.1880007 172.226,30.052 C172.614002,29.9159993 172.933999,29.7680008 173.186,29.608 C173.438001,29.4479992 173.635999,29.3000007 173.78,29.164 C173.924001,29.0279993 174.044,28.96 174.14,28.96 C174.236,28.96 174.316,28.9999996 174.38,29.08 L174.68,29.464 C174.495999,29.7040012 174.264001,29.927999 173.984,30.136 C173.703999,30.344001 173.388002,30.5239992 173.036,30.676 C172.683998,30.8280008 172.302002,30.9459996 171.89,31.03 C171.477998,31.1140004 171.048002,31.156 170.6,31.156 C169.839996,31.156 169.146003,31.0180014 168.518,30.742 C167.889997,30.4659986 167.350002,30.0660026 166.898,29.542 C166.445998,29.0179974 166.094001,28.3760038 165.842,27.616 C165.589999,26.8559962 165.464,25.9920048 165.464,25.024 C165.464,24.1119954 165.583999,23.2800038 165.824,22.528 C166.064001,21.7759962 166.415998,21.1280027 166.88,20.584 C167.344002,20.0399973 167.909997,19.6180015 168.578,19.318 C169.246003,19.0179985 170.011996,18.868 170.876,18.868 C171.652004,18.868 172.339997,18.9919988 172.94,19.24 C173.540003,19.4880012 174.063998,19.8239979 174.512,20.248 L174.212,20.656 Z M184.064,20.536 C184,20.6480006 183.908001,20.704 183.788,20.704 C183.7,20.704 183.588001,20.6540005 183.452,20.554 C183.315999,20.4539995 183.134001,20.3420006 182.906,20.218 C182.677999,20.0939994 182.396002,19.9820005 182.06,19.882 C181.723998,19.7819995 181.316002,19.732 180.836,19.732 C180.403998,19.732 180.010002,19.7939994 179.654,19.918 C179.297998,20.0420006 178.994001,20.207999 178.742,20.416 C178.489999,20.624001 178.296001,20.8659986 178.16,21.142 C178.023999,21.4180014 177.956,21.7079985 177.956,22.012 C177.956,22.3880019 178.051999,22.6999988 178.244,22.948 C178.436001,23.1960012 178.685998,23.4079991 178.994,23.584 C179.302002,23.7600009 179.655998,23.9119994 180.056,24.04 C180.456002,24.1680006 180.861998,24.2959994 181.274,24.424 C181.686002,24.5520006 182.091998,24.6939992 182.492,24.85 C182.892002,25.0060008 183.245998,25.1999988 183.554,25.432 C183.862002,25.6640012 184.111999,25.9479983 184.304,26.284 C184.496001,26.6200017 184.592,27.0279976 184.592,27.508 C184.592,28.0280026 184.500001,28.5119978 184.316,28.96 C184.131999,29.4080022 183.862002,29.7959984 183.506,30.124 C183.149998,30.4520016 182.712003,30.711999 182.192,30.904 C181.671997,31.096001 181.076003,31.192 180.404,31.192 C179.563996,31.192 178.840003,31.0580013 178.232,30.79 C177.623997,30.5219987 177.080002,30.1720022 176.6,29.74 L176.864,29.332 C176.904,29.2679997 176.95,29.2200002 177.002,29.188 C177.054,29.1559998 177.124,29.14 177.212,29.14 C177.316001,29.14 177.441999,29.2039994 177.59,29.332 C177.738001,29.4600006 177.935999,29.5979993 178.184,29.746 C178.432001,29.8940007 178.737998,30.0319994 179.102,30.16 C179.466002,30.2880006 179.915997,30.352 180.452,30.352 C180.956003,30.352 181.399998,30.2820007 181.784,30.142 C182.168002,30.0019993 182.487999,29.8120012 182.744,29.572 C183.000001,29.3319988 183.193999,29.0500016 183.326,28.726 C183.458001,28.4019984 183.524,28.0600018 183.524,27.7 C183.524,27.299998 183.428001,26.9680013 183.236,26.704 C183.043999,26.4399987 182.792002,26.2160009 182.48,26.032 C182.167998,25.8479991 181.814002,25.6920006 181.418,25.564 C181.021998,25.4359994 180.616002,25.3080006 180.2,25.18 C179.783998,25.0519994 179.378002,24.9120008 178.982,24.76 C178.585998,24.6079992 178.232002,24.4160012 177.92,24.184 C177.607998,23.9519988 177.356001,23.6700017 177.164,23.338 C176.971999,23.0059983 176.876,22.5920025 176.876,22.096 C176.876,21.6719979 176.967999,21.264002 177.152,20.872 C177.336001,20.479998 177.597998,20.1360015 177.938,19.84 C178.278002,19.5439985 178.691998,19.3080009 179.18,19.132 C179.668002,18.9559991 180.215997,18.868 180.824,18.868 C181.552004,18.868 182.197997,18.971999 182.762,19.18 C183.326003,19.388001 183.839998,19.7079978 184.304,20.14 L184.064,20.536 Z"/></g></g></svg></a><div class="site-header-version">4.5-20180116230000+0000</div><button class="site-header__navigation-button hamburger" aria-label="Navigation Menu" type="button"><span class="hamburger__bar"></span><span class="hamburger__bar"></span><span class="hamburger__bar"></span></button></div><div class="site-header__navigation-collapsible site-header__navigation-collapsible--collapse"><ul class="site-header__navigation-items"><li tabindex="0" class="site-header__navigation-item site-header__navigation-submenu-section"><span class="site-header__navigation-link">
                                Docs
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 11" height="11" width="19" class="site-header__down-arrow site-header__icon-light"><title>Open Docs Menu</title><path stroke-linejoin="round" stroke-linecap="round" fill="none" stroke-width="1.5" stroke="#02303A" d="M17.9991 10.422825L9.3741 0.565575 0.7491 10.422825" transform="rotate(-180 9.374 5.494)"/></svg></span><div class="site-header__navigation-submenu"><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/userguide/userguide.html" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">User Manual</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="https://guides.gradle.org" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Guides and Tutorials</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/dsl/" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">DSL Reference</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/javadoc/" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Javadoc</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/release-notes.html" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Release Notes</span></a></div></div></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://discuss.gradle.org/" class="site-header__navigation-link" target="_top">Forums</a></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://gradle.org/training/" class="site-header__navigation-link" target="_top">Training</a></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://gradle.com/enterprise" class="site-header__navigation-link" target="_top">Enterprise</a></li></ul></div></nav></header><main class="main-content"><nav class="docs-navigation"><ul><li><a href="/userguide/userguide.html">Overview</a></li><li><a href="/dsl/">DSL Reference</a></li><li><a href="/release-notes.html">Release Notes</a></li></ul><h3 id="getting-started">Getting Started</h3><ul><li><a href="/userguide/installation.html">Installing Gradle</a></li><li><a href="https://guides.gradle.org/creating-new-gradle-builds/">Creating a New Gradle Build</a></li><li><a href="https://guides.gradle.org/creating-build-scans/">Creating Build Scans</a></li><li><a href="https://guides.gradle.org/migrating-from-maven/">Migrating from Maven</a></li></ul><h3 id="using-gradle-builds">Using Gradle Builds</h3><ul><li><a href="/userguide/command_line_interface.html">Command-Line Interface</a></li><li><a href="/userguide/gradle_wrapper.html">Gradle Wrapper</a></li><li><a href="https://docs.gradle.com/build-scan-plugin">Build Scans</a></li><li><a href="/userguide/build_environment.html">Build Environment</a></li><li><a href="/userguide/init_scripts.html">Initialization Scripts</a></li><li><a href="/userguide/intro_multi_project_builds.html">Multi-Project Builds</a></li><li><a href="/userguide/build_cache.html">Build Cache</a></li><li><a href="/userguide/composite_builds.html">Composite Builds</a></li><li><a href="/userguide/continuous_build.html">Continuous Build</a></li><li><a href="/userguide/gradle_daemon.html">Daemon</a></li><li><a href="/userguide/troubleshooting.html">Troubleshooting</a></li><li><a href="/userguide/embedding.html">Embedding Gradle</a></li></ul><h3 id="writing-gradle-builds">Authoring Gradle Builds</h3><ul><li><a aria-controls="building-jvm-projects" aria-expanded="false" href="#building-jvm-projects" data-toggle="collapse" class="nav-dropdown">JVM Projects</a><ul id="building-jvm-projects"><li><a aria-controls="java-tutorials" aria-expanded="false" href="#java-tutorials" data-toggle="collapse" class="nav-dropdown">JVM Tutorials</a><ul id="java-tutorials"><li><a href="https://guides.gradle.org/building-groovy-libraries/">Building Groovy Libraries</a></li><li><a href="https://guides.gradle.org/building-java-libraries/">Building Java Libraries</a></li><li><a href="https://guides.gradle.org/building-java-9-modules/">Building Java 9 Modules</a></li><li><a href="https://guides.gradle.org/building-java-applications/">Building Java Applications</a></li><li><a href="https://guides.gradle.org/building-java-web-applications/">Building Java Web Applications</a></li><li><a href="https://guides.gradle.org/building-kotlin-jvm-libraries/">Building Kotlin JVM Libraries</a></li><li><a href="https://guides.gradle.org/building-scala-libraries/">Building Scala Libraries</a></li><li><a href="https://guides.gradle.org/consuming-jvm-libraries/">Consuming JVM Libraries</a></li><li><a href="https://guides.gradle.org/creating-multi-project-builds/">Creating Multi-project Builds</a></li><li><a href="/userguide/tutorial_groovy_projects.html">Groovy Quickstart</a></li><li><a href="/userguide/tutorial_java_projects.html">Java Quickstart</a></li><li><a href="/userguide/web_project_tutorial.html">Web Application Quickstart</a></li><li><a href="https://guides.gradle.org/writing-gradle-tasks/">Writing Custom Script Tasks</a></li><li><a href="/userguide/custom_tasks.html">Writing Custom Task Classes</a></li></ul></li><li><a aria-controls="java-plugins-reference" aria-expanded="false" href="#java-plugins-reference" data-toggle="collapse" class="nav-dropdown">Plugins Reference</a><ul id="java-plugins-reference"><li><a href="/userguide/antlr_plugin.html">ANTLR Plugin</a></li><li><a href="/userguide/application_plugin.html">Application Plugin</a></li><li><a href="/userguide/checkstyle_plugin.html">Checkstyle Plugin</a></li><li><a href="/userguide/codenarc_plugin.html">CodeNarc Plugin</a></li><li><a href="/userguide/ear_plugin.html">EAR Plugin</a></li><li><a href="/userguide/eclipse_plugin.html">Eclipse Plugin</a></li><li><a href="/userguide/findbugs_plugin.html">FindBugs Plugin</a></li><li><a href="/userguide/groovy_plugin.html">Groovy Plugin</a></li><li><a href="/userguide/idea_plugin.html">IDEA Plugin</a></li><li><a href="/userguide/jacoco_plugin.html">JaCoCo Plugin</a></li><li><a href="/userguide/java_plugin.html">Java Plugin</a></li><li><a href="/userguide/java_library_plugin.html">Java Library Plugin</a></li><li><a href="/userguide/java_library_distribution_plugin.html">Java Library Distribution Plugin</a></li><li><a href="/userguide/java_software.html">Java Software Model</a></li><li><a href="/userguide/jetty_plugin.html">Jetty Plugin</a></li><li><a href="/userguide/jdepend_plugin.html">JDepend Plugin</a></li><li><a href="/userguide/osgi_plugin.html">OSGi Plugin</a></li><li><a href="/userguide/play_plugin.html">Play Plugin</a></li><li><a href="/userguide/project_report_plugin.html">Project Report Plugin</a></li><li><a href="/userguide/pmd_plugin.html">PMD Plugin</a></li><li><a href="/userguide/scala_plugin.html">Scala Plugin</a></li><li><a href="/userguide/war_plugin.html">WAR Plugin</a></li></ul></li><li><a href="/userguide/ant.html">Using Ant from Gradle</a></li></ul></li><li><a aria-controls="building-native-projects" aria-expanded="false" href="#building-cpp-projects" data-toggle="collapse" class="nav-dropdown">C++ Projects</a><ul id="building-cpp-projects"><li><a aria-controls="cpp-tutorials" aria-expanded="false" href="#cpp-tutorials" data-toggle="collapse" class="nav-dropdown">C++ Tutorials</a><ul id="cpp-tutorials"><li><a href="https://guides.gradle.org/building-cpp-executables/">Building C++ Executables</a></li><li><a href="https://guides.gradle.org/building-cpp-executables/">Building C++ Libraries</a></li></ul></li><li><a href="/userguide/native_software.html">Building Native Software</a></li><li><a href="/userguide/software_model_concepts.html">Software Model Concepts</a></li><li><a href="/userguide/software_model.html">Rule-based Model Configuration</a></li><li><a href="/userguide/rule_source.html">Implementing Model Rules in a Plugin</a></li><li><a href="/userguide/software_model_extend.html">Extending the Software Model</a></li></ul></li><li><a aria-controls="building-android-projects" aria-expanded="false" href="#building-android-projects" data-toggle="collapse" class="nav-dropdown">Android Projects</a><ul id="building-android-projects"><li><a href="https://guides.gradle.org/building-android-apps/">Building Android Apps</a></li></ul></li><li><a aria-controls="building-javascript-projects" aria-expanded="false" href="#building-javascript-projects" data-toggle="collapse" class="nav-dropdown">JavaScript Projects</a><ul id="building-javascript-projects"><li><a href="https://guides.gradle.org/running-webpack-with-gradle/">Bundling JavaScript with Webpack</a></li></ul></li><li><a aria-controls="authoring-build-scripts" aria-expanded="false" href="#authoring-build-scripts" data-toggle="collapse" class="nav-dropdown">Authoring Build Scripts</a><ul id="authoring-build-scripts"><li><a href="/userguide/tutorial_using_tasks.html">Build Script Basics</a></li><li><a href="/userguide/more_about_tasks.html">Authoring Tasks</a></li><li><a href="/userguide/logging.html">Logging</a></li><li><a href="/userguide/test_kit.html">Testing with TestKit</a></li><li><a href="/userguide/multi_project_builds.html">Authoring Multi-Project Builds</a></li><li><a href="/userguide/standard_plugins.html">Standard Gradle Plugins</a></li><li><a href="/userguide/plugins.html">Using Gradle Plugins</a></li><li><a href="/userguide/writing_build_scripts.html">Writing Build Scripts</a></li><li><a href="/userguide/working_with_files.html">Working with Files</a></li><li><a href="/userguide/build_lifecycle.html">Build Lifecycle</a></li><li><a href="/userguide/feature_lifecycle.html">Feature Lifecycle</a></li></ul></li><li><a aria-controls="managing-dependencies" aria-expanded="false" href="#managing-dependencies" data-toggle="collapse" class="nav-dropdown">Managing Dependencies</a><ul id="managing-dependencies"><li><a href="/userguide/artifact_dependencies_tutorial.html">Dependency Management Basics</a></li><li><a href="/userguide/dependency_management.html">Advanced Dependency Management</a></li><li><a href="/userguide/dependency_types.html">Dependency Types</a></li><li><a href="/userguide/repository_types.html">Repository Types</a></li></ul></li><li><a aria-controls="publishing-artifacts" aria-expanded="false" href="#publishing-artifacts" data-toggle="collapse" class="nav-dropdown">Publishing Artifacts</a><ul id="publishing-artifacts"><li><a href="/userguide/artifact_management.html">Publishing Artifacts Overview</a></li><li><a href="/userguide/distribution_plugin.html">Distribution Plugin</a></li><li><a href="/userguide/maven_plugin.html">Maven Plugin</a></li><li><a href="/userguide/publishing_maven.html">Maven Publish Plugin</a></li><li><a href="/userguide/publishing_ivy.html">Ivy Publish Plugin</a></li><li><a href="/userguide/signing_plugin.html">Signing Plugin</a></li></ul></li><li><a aria-controls="best-practices" aria-expanded="false" href="#best-practices" data-toggle="collapse" class="nav-dropdown">Best Practices</a><ul id="best-practices"><li><a href="/userguide/organizing_build_logic.html">Organizing Build Logic</a></li><li><a href="https://guides.gradle.org/performance/">Optimizing Build Performance</a></li><li><a href="https://guides.gradle.org/using-build-cache/">Using the Build Cache</a></li></ul></li><li><a aria-controls="sample-gradle-builds" aria-expanded="false" href="#sample-gradle-builds" data-toggle="collapse" class="nav-dropdown">Sample Gradle Builds</a><ul id="sample-gradle-builds"><li><a href="https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples">Sample Projects</a></li><li><a href="https://github.com/gradle/native-samples">Native Samples</a></li><li><a href="https://github.com/gradle/kotlin-dsl/tree/master/samples">Kotlin DSL Samples</a></li></ul></li></ul><h3 id="developing-gradle-plugins">Developing Gradle Plugins</h3><ul><li><a aria-controls="plugins-tutorials" aria-expanded="false" href="#plugins-tutorials" data-toggle="collapse" class="nav-dropdown">Gradle Plugins Tutorials</a><ul id="plugins-tutorials"><li><a href="https://guides.gradle.org/designing-gradle-plugins/">Designing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/implementing-gradle-plugins/">Implementing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/testing-gradle-plugins/">Testing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/publishing-plugins-to-gradle-plugin-portal/">Publishing Gradle Plugins</a></li></ul></li><li><a href="https://guides.gradle.org/using-the-worker-api/">Developing Parallel Tasks</a></li><li><a href="/userguide/lazy_configuration.html">Lazy Task Configuration</a></li><li><a href="/userguide/java_gradle_plugin.html">Plugin Development Plugin</a></li><li><a href="/userguide/custom_plugins.html">Writing Custom Plugins</a></li></ul></nav><div class="chapter"><div class="titlepage"><div><aside class="chapter-meta js-chapter-meta"><div class="rating js-rating-widget"><i data-label="5" data-action="rating" title="Excellent Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="4" data-action="rating" title="Good Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="3" data-action="rating" title="OK Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="2" data-action="rating" title="Poor Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="1" data-action="rating" title="Unusable Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i></div><div class="quick-edit"><a href="https://github.com/gradle/gradle/edit/master/subprojects/docs/src/docs/userguide/" class="edit-link js-edit-link"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" version="1.1" viewBox="0 0 11 12" height="12px" width="11px"><g stroke-linejoin="round" stroke-linecap="round" fill-rule="evenodd" fill="none" stroke-width="1" stroke="#999999"><polyline points="9 5.11724219 9 11.5 0.5 11.5 0.5 2.5 5 2.5"/><polygon points="9.59427002 0.565307617 4.31427002 5.84530762 4.31427002 6.56530762 5.03427002 6.56530762 10.31427 1.28530762" fill="#999999"/></g></svg>
                    Edit this page
                </a></div></aside><div><h1 xmlns:xslthl="http://xslthl.sf.net"><a name="dependency_management"></a>Dependency Management</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="dependency_management.html#sec:Introduction">Introduction</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:declaring_dependencies">Declaring dependencies</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:managing_transitive_dependencies">Managing transitive dependencies</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:inspecting_dependencies">Inspecting dependencies</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:working_with_dependencies">Working with dependencies</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:declaring_repositories">Declaring repositories</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:dependency_resolution">How dependency resolution works</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:finetuning_the_dependency_resolution_process">Fine-tuning the dependency resolution process</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:dependency_cache">The dependency cache</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:dependency_management_overview">Dependency management best practices</a></span></dt><dt><span class="section"><a href="dependency_management.html#sec:strategies_of_transitive_dependency_management">Strategies for transitive dependency management</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:Introduction" class="section-anchor" href="#sec:Introduction"></a>Introduction</h2></div></div></div><p>Dependency management is a critical feature of every build, and Gradle has placed an emphasis on offering first-class dependency management that is both easy to understand and compatible with a wide variety of approaches. If you are familiar with the approach used by either Maven or Ivy you will be delighted to learn that Gradle is fully compatible with both approaches in addition to being flexible enough to support fully-customized approaches.</p><p>Here are the major highlights of Gradle&rsquo;s support for dependency management:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="emphasis"><em>Transitive dependency management</em></span>: Gradle gives you full control of your project&rsquo;s dependency tree.</p></li><li class="listitem"><p><span class="emphasis"><em>Support for non-managed dependencies</em></span>: If your dependencies are simply files in version control or a shared drive, Gradle provides powerful functionality to support this.</p></li><li class="listitem"><p><span class="emphasis"><em>Support for custom dependency definitions.</em></span>: Gradle&rsquo;s Module Dependencies give you the ability to describe the dependency hierarchy in the build script.</p></li><li class="listitem"><p><span class="emphasis"><em>A fully customizable approach to Dependency Resolution</em></span>: Gradle provides you with the ability to customize resolution rules making dependency substitution easy.</p></li><li class="listitem"><p><span class="emphasis"><em>Full Compatibility with Maven and Ivy</em></span>: If you have defined dependencies in a Maven POM or an Ivy file, Gradle provides seamless integration with a range of popular build tools.</p></li><li class="listitem"><p><span class="emphasis"><em>Integration with existing dependency management infrastructure</em></span>: Gradle is compatible with both Maven and Ivy repositories. If you use Archiva, Nexus, or Artifactory, Gradle is 100% compatible with all repository formats.</p></li></ul></div><p>With hundreds of thousands of interdependent open source components each with a range of versions and incompatibilities, dependency management has a habit of causing problems as builds grow in complexity. When a build&rsquo;s dependency tree becomes unwieldy, your build tool shouldn&rsquo;t force you to adopt a single, inflexible approach to dependency management. A proper build system has to be designed to be flexible, and Gradle can handle any situation.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:dependency_management_and_migrations" class="section-anchor" href="#sub:dependency_management_and_migrations"></a>Flexible dependency management for migrations</h3></div></div></div><p>Dependency management can be particularly challenging during a migration from one build system to another. If you are migrating from a tool like Ant or Maven to Gradle, you may be faced with some difficult situations. For example, one common pattern is an Ant project with version-less jar files stored in the filesystem. Other build systems require a wholesale replacement of this approach before migrating. With Gradle, you can adapt your new build to any existing source of dependencies or dependency metadata. This makes incremental migration to Gradle much easier than the alternative. On most large projects, build migrations and any change to development process is incremental because most organizations can&rsquo;t afford to stop everything and migrate to a build tool&rsquo;s idea of dependency management.</p><p>Even if your project is using a custom dependency management system or something like an Eclipse .classpath file as master data for dependency management, it is very easy to write a Gradle plugin to use this data in Gradle. For migration purposes this is a common technique with Gradle. (But, once you&rsquo;ve migrated, it might be a good idea to move away from a .classpath file and use Gradle&rsquo;s dependency management features directly.)</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:dependency_management_and_java" class="section-anchor" href="#sub:dependency_management_and_java"></a>Dependency management and Java</h3></div></div></div><p>It is ironic that in a language known for its rich library of open source components that Java has no concept of libraries or versions. In Java, there is no standard way to tell the JVM that you are using version 3.0.5 of Hibernate, and there is no standard way to say that <code class="literal">foo-1.0.jar</code> depends on <code class="literal">bar-2.0.jar</code>. This has led to external solutions often based on build tools. The most popular ones at the moment are Maven and Ivy. While Maven provides a complete build system, Ivy focuses solely on dependency management.</p><p>Both tools rely on descriptor XML files, which contain information about the dependencies of a particular jar. Both also use repositories where the actual jars are placed together with their descriptor files, and both offer resolution for conflicting jar versions in one form or the other. Both have emerged as standards for solving dependency conflicts, and while Gradle originally used Ivy under the hood for its dependency management. Gradle has replaced this direct dependency on Ivy with a native Gradle dependency resolution engine which supports a range of approaches to dependency resolution including both POM and Ivy descriptor files.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:declaring_dependencies" class="section-anchor" href="#sec:declaring_dependencies"></a>Declaring dependencies</h2></div></div></div><p>Gradle builds can declare dependencies on external binaries, raw files and other Gradle projects. You can find examples for common scenarios in this section. For more information, see the <a class="link" href="dependency_types.html">full reference on all types of dependencies</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:declaring_binary_dependency" class="section-anchor" href="#sec:declaring_binary_dependency"></a>Declaring a binary dependency</h3></div></div></div><p>Modern software projects rarely build code in isolation. Projects reference external libraries for the purpose of reusing existing and proven functionality, so-called <span class="emphasis"><em>binary dependencies</em></span>. Upon resolution binary dependencies are downloaded from dedicated repositories and stored in a cache to avoid unnecessary network traffic.</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N13161"></a><p class="title"><b>Figure&nbsp;6.&nbsp;Resolving binary dependencies from remote repositories</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="531"><tr><td><img src="img/dependency-management-binary-dependencies.png" width="531" alt="Resolving binary dependencies from remote repositories"></td></tr></table></div></div><br class="figure-break"><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="_declaring_a_concrete_version_of_a_binary_dependency" class="section-anchor" href="#_declaring_a_concrete_version_of_a_binary_dependency"></a>Declaring a concrete version of a binary dependency</h4></div></div></div><p>A typical example for such a library in a Java project is the <a class="ulink" href="https://projects.spring.io/spring-framework/" target="_top">Spring framework</a>. The following code snippet declares a compile-time dependency on the Spring web module by its coordinates: <code class="literal">org.springframework:spring-web:5.0.2.RELEASE</code>. Gradle resolves the dependency including its transitive dependencies from the <a class="ulink" href="https://search.maven.org/" target="_top">Maven Central repository</a> and uses it to compile Java source code. The version attribute of the dependency coordinates points to a <span class="emphasis"><em>concrete version</em></span> indicating that the underlying artifacts don&rsquo;t change over time. The use of concrete versions ensures reproducibility for the aspect of dependency resolution.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="binary-dependencies-concrete-version"></a><p class="title"><b>Example&nbsp;178.&nbsp;Declaring a binary dependencies with a concrete version</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"plugin"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"java-library"</span>))
repositories {
    mavenCentral()
}
dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.springframework:spring-web:5.0.2.RELEASE"</span>)
}</pre></div></div><br class="example-break"><p>A Gradle project can define other types of repositories hosting binary dependencies. You can learn more about the syntax and API in the section on <a class="link" href="dependency_management.html#sec:declaring_repositories">declaring repositories</a>. Refer to <a class="xref" href="java_plugin.html"><i>The Java Plugin</i></a> for a deep dive on declaring dependencies for a Java project. The resolution behavior for binary dependencies declarations is <a class="link" href="">highly customizable</a>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="_declaring_a_dynamic_version_of_a_binary_dependency" class="section-anchor" href="#_declaring_a_dynamic_version_of_a_binary_dependency"></a>Declaring a dynamic version of a binary dependency</h4></div></div></div><p>Projects might adopt a more aggressive approach for consuming binary dependencies. For example you might want to always integrate the latest version of a dependency to consume cutting edge features at any given time. A <span class="emphasis"><em>dynamic version</em></span> allows for resolving the latest version or the latest version of a version range for a given dependency.</p><div class="note"><p>Using dynamic versions in a build bears the risk of potentially breaking it. As soon as a new version of the dependency is released that contains an incompatible API change your source code might stop compiling.</p></div><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="binary-dependencies-dynamic-version"></a><p class="title"><b>Example&nbsp;179.&nbsp;Declaring a binary dependencies with a dynamic version</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"plugin"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"java-library"</span>))
repositories {
    mavenCentral()
}
dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.springframework:spring-web:5.+"</span>)
}</pre></div></div><br class="example-break"><p>A <a class="ulink" href="https://scans.gradle.com/" target="_top">build scan</a> can effectively visualize dynamic dependency versions and their respective, selected versions.</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N131AF"></a><p class="title"><b>Figure&nbsp;7.&nbsp;Dynamic dependencies in build scan</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="478"><tr><td><img src="img/dependency-management-dynamic-dependency-build-scan.png" width="478" alt="Dynamic dependencies in build scan"></td></tr></table></div></div><br class="figure-break"><p>By default, Gradle caches dynamic versions of dependencies for 24 hours. The <a class="link" href="dependency_management.html#sec:controlling_caching">threshold can be configured</a> as needed for example if you want to resolve new versions earlier.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="_declaring_a_changing_version_of_a_binary_dependency" class="section-anchor" href="#_declaring_a_changing_version_of_a_binary_dependency"></a>Declaring a changing version of a binary dependency</h4></div></div></div><p>A team might decide to implement a series of features before releasing a new version of the application or library. A common strategy to allow consumers to integrate an unfinished version of their artifacts early and often is to release a so-called <span class="emphasis"><em>changing version</em></span>. A changing version indicates that the feature set is still under active development and hasn&rsquo;t released a stable version for general availability yet.</p><p>In Maven repositories, changing versions are commonly referred to as <a class="ulink" href="https://maven.apache.org/guides/getting-started/index.html#What_is_a_SNAPSHOT_version" target="_top">snapshot versions</a>. Snapshot versions contain the suffix <code class="literal">-SNAPSHOT</code>. The following example demonstrates how to declare a snapshot version on the Spring dependency.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="binary-dependencies-changing-version"></a><p class="title"><b>Example&nbsp;180.&nbsp;Declaring a binary dependencies with a changing version</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"plugin"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"java-library"</span>))
repositories {
    mavenCentral()
    maven {
        url(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"https://repo.spring.io/snapshot/"</span>)
    }
}
dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.springframework:spring-web:5.0.3.BUILD-SNAPSHOT"</span>)
}</pre></div></div><br class="example-break"><p>By default, Gradle caches changing versions of dependencies for 24 hours. The <a class="link" href="dependency_management.html#sec:controlling_caching">threshold can be configured</a> as needed for example if you want to resolve new snapshot versions earlier.</p><p>Gradle is flexible enough to treat any version as changing version. All you need to do is to set the property <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ExternalModuleDependency.html#setChanging-boolean-" target="_top"><code class="classname">ExternalModuleDependency.setChanging(boolean)</code></a> to <code class="literal">true</code>.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:declaring_file_dependency" class="section-anchor" href="#sec:declaring_file_dependency"></a>Declaring a file dependency</h3></div></div></div><p>Projects sometimes do not rely on a binary repository product e.g. JFrog Artifactory or Sonatype Nexus for hosting and resolving external dependencies. It&rsquo;s common practice to host those dependencies on a shared drive or check them into version control alongside the project source code. Those dependencies are referred to as <span class="emphasis"><em>file dependencies</em></span>, the reason being that they represent a files without any metadata (like information about transitive dependencies, the origin or its author) attached to them.</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N131F1"></a><p class="title"><b>Figure&nbsp;8.&nbsp;Resolving file dependencies from the local file system and a shared drive</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="496"><tr><td><img src="img/dependency-management-file-dependencies.png" width="496" alt="Resolving file dependencies from the local file system and a shared drive"></td></tr></table></div></div><br class="figure-break"><p>The following example resolves file dependencies from the directories <code class="literal">ant</code>, <code class="literal">libs</code> and <code class="literal">tools</code>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="file-dependencies"></a><p class="title"><b>Example&nbsp;181.&nbsp;Declaring multiple file dependencies</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">configurations {
    antContrib
    externalLibs
    deploymentTools
}
dependencies {
    antContrib(files(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"ant/antcontrib.jar"</span>))
    externalLibs(files(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"libs/commons-lang.jar"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"libs/log4j.jar"</span>))
    deploymentTools(fileTree(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"dir"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"tools"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"include"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"*.exe"</span>)))
}</pre></div></div><br class="example-break"><p>As you can see in the code example, every dependency has to define its exact location in the file system. The most prominent methods for creating a file reference are <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:files(java.lang.Object[])" target="_top"><code class="classname">Project.files(java.lang.Object[])</code></a> and <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:fileTree(java.lang.Object)" target="_top"><code class="classname">Project.fileTree(java.lang.Object)</code></a>. Alternatively, you can also define the source directory of one or many file dependencies in the form of a <a class="link" href="repository_types.html#sec:flat_dir_resolver">flat directory repository</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:declaring_project_dependency" class="section-anchor" href="#sec:declaring_project_dependency"></a>Declaring a project dependency</h3></div></div></div><p>Software projects often break up software components into modules to improve maintainability and prevent strong coupling. Modules can define dependencies between each other to reuse code within the same project.</p><p>Gradle can model dependencies between modules. Those dependencies are called <span class="emphasis"><em>project dependencies</em></span> because each module is represented by a Gradle project. At runtime, the build automatically ensures that project dependencies are built in the correct order and added to the classpath for compilation. The chapter <a class="xref" href="multi_project_builds.html"><i>Authoring Multi-Project Builds</i></a> discusses how to set up and configure multi-project builds in more detail.</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N1322B"></a><p class="title"><b>Figure&nbsp;9.&nbsp;Dependencies between projects</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="354"><tr><td><img src="img/dependency-management-project-dependencies.png" width="354" alt="Dependencies between projects"></td></tr></table></div></div><br class="figure-break"><p>The following example declares the dependencies on the <code class="literal">utils</code> and <code class="literal">api</code> project from the <code class="literal">web-service</code> project. The method <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:project(java.lang.String)" target="_top"><code class="classname">Project.project(java.lang.String)</code></a> creates a reference to a specific subproject by path.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="project-dependencies"></a><p class="title"><b>Example&nbsp;182.&nbsp;Declaring project dependencies</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">project(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">":web-service"</span>) {
    dependencies {
        implementation(project(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">":utils"</span>))
        implementation(project(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">":api"</span>))
    }
}</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:scope_of_dependency_configurations" class="section-anchor" href="#sub:scope_of_dependency_configurations"></a>Defining the scope of a dependency</h3></div></div></div><p>Every dependency declared for a Gradle project applies to a specific scope. For example some dependencies should be used for compiling source code whereas others only need to be available at runtime. Gradle represents the scope of a dependency with the help of a <a class="ulink" href="../dsl/org.gradle.api.artifacts.Configuration.html" target="_top"><code class="classname">Configuration</code></a>.</p><p>Many Gradle plugins add pre-defined configurations to your project. The Java plugin, for example, adds configurations to represent the various classpaths it needs for source code compilation, executing tests and the like. See <a class="link" href="java_plugin.html#sec:java_plugin_and_dependency_management">the Java plugin chapter</a> for an example. The sections above demonstrate how to <a class="link" href="dependency_management.html#sec:declaring_dependencies">declare dependencies</a> for different use cases.</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N13261"></a><p class="title"><b>Figure&nbsp;10.&nbsp;Configurations use declared dependencies for specific purposes</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="709"><tr><td><img src="img/dependency-management-configurations.png" width="709" alt="Configurations use declared dependencies for specific purposes"></td></tr></table></div></div><br class="figure-break"><p>You can also define configurations yourself, so-called <span class="emphasis"><em>custom configurations</em></span>. A custom configuration is useful for separating the scope of dependencies needed for a dedicated purpose.</p><p>Let&rsquo;s say you wanted to declare a dependency on the <a class="ulink" href="https://tomcat.apache.org/tomcat-9.0-doc/jasper-howto.html" target="_top">Jasper Ant task</a> for the purpose of pre-compiling JSP files that should <span class="emphasis"><em>not</em></span> end up in the classpath for compiling your source code. It&rsquo;s fairly simply to achieve that goal by introducing a custom configuration and using it in a task.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="custom-configuration"></a><p class="title"><b>Example&nbsp;183.&nbsp;Declaring and using a custom configuration</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">configurations {
    jasper
}
repositories {
    mavenCentral()
}
dependencies {
    jasper(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.apache.tomcat.embed:tomcat-embed-jasper:9.0.2"</span>)
}
val preCompileJsps by tasks.creating {
    doLast {
        taskdef(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"classname"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.apache.jasper.JspC"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"name"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"jasper"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"classpath"</span> to configurations.jasper.asPath))
        jasper(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"validateXml"</span> to false, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"uriroot"</span> to file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/main/webapp"</span>), <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"outputDir"</span> to file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"$buildDir/compiled-jsps"</span>)))
    }
}</pre></div></div><br class="example-break"><p>A project&rsquo;s configurations are managed by a <code class="literal">configurations</code> object. Configurations have a name and can extend each other. To learn more about this API have a look at <a class="ulink" href="../dsl/org.gradle.api.artifacts.ConfigurationContainer.html" target="_top"><code class="classname">ConfigurationContainer</code></a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:resolve_specific_artifacts_from_dependency" class="section-anchor" href="#sub:resolve_specific_artifacts_from_dependency"></a>Resolving specific artifacts from a module dependency</h3></div></div></div><p>Whenever Gradle tries to resolve a dependency from a Maven or Ivy repository, it looks for a metadata file and the default artifact file, a JAR. The build fails if none of these artifact files can be resolved. Under certain conditions, you might want to tweak the way Gradle resolves artifacts for a dependency.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The dependency only provides a non-standard artifact without any metadata e.g. a ZIP file.</p></li><li class="listitem"><p>The dependency metadata declares more than one artifact e.g. as part of an Ivy dependency descriptor.</p></li><li class="listitem"><p>You only want to download a specific artifact without any of the transitive dependencies declared in the metadata.</p></li></ul></div><p>Gradle is a polyglot build tool and not limited to just resolving Java libraries. Let&rsquo;s assume you wanted to build a web application using JavaScript as the client technology. Most projects check in external JavaScript libraries into version control. An external JavaScript library is no different than a reusable Java library so why not download it from a repository instead?</p><p><a class="ulink" href="https://developers.google.com/speed/libraries/" target="_top">Google Hosted Libraries</a> is a distribution platform for popular, open-source JavaScript libraries. With the help of the artifact-only notation you can download a JavaScript library file e.g. JQuery. The <code class="literal">@</code> character separates the dependency&rsquo;s coordinates from the artifact&rsquo;s file extension.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="artifact-only-dependency-declaration"></a><p class="title"><b>Example&nbsp;184.&nbsp;Resolving a JavaScript artifact for a declared dependency</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">repositories {
    ivy {
        url(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"https://ajax.googleapis.com/ajax/libs"</span>)
        layout(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"pattern"</span>) {
            artifact(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"[organization]/[revision]/[module].[ext]"</span>)
        }
    }
}
configurations {
    js
}
dependencies {
    js(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"jquery:jquery:3.2.1@js"</span>)
}</pre></div></div><br class="example-break"><p>Some dependencies ship different "flavors" of the same artifact or they publish multiple artifacts that belong to a specific version of the dependency but have a different purpose. It&rsquo;s common for a Java library to publish the artifact with the compiled class files, another one with just the source code in it and a third one containing the Javadocs.</p><p>In JavaScript, a library may exist as uncompressed or minified artifact. In Gradle, a specific artifact identifier is called <span class="emphasis"><em>classifier</em></span>, a term generally used in Maven and Ivy dependency management.</p><p>Let&rsquo;s say we wanted to download the minified artifact of the JQuery library instead of the uncompressed file. You can provide the classifier <code class="literal">min</code> as part of the dependency declaration.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="artifact-only-dependency-declaration-with-classifier"></a><p class="title"><b>Example&nbsp;185.&nbsp;Resolving a JavaScript artifact with classifier for a declared dependency</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">repositories {
    ivy {
        url(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"https://ajax.googleapis.com/ajax/libs"</span>)
        layout(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"pattern"</span>) {
            artifact(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"[organization]/[revision]/[module](.[classifier]).[ext]"</span>)
        }
    }
}
configurations {
    js
}
dependencies {
    js(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"jquery:jquery:3.2.1:min@js"</span>)
}</pre></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:managing_transitive_dependencies" class="section-anchor" href="#sec:managing_transitive_dependencies"></a>Managing transitive dependencies</h2></div></div></div><p>Resolution behavior for transitive dependencies can be customized to a high degree to meet enterprise requirements.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:excluding_transitive_module_dependencies" class="section-anchor" href="#sec:excluding_transitive_module_dependencies"></a>Excluding transitive module dependencies</h3></div></div></div><p>Declared dependencies in a build script can pull in a lot of transitive dependencies. You might decide that you do not want a particular transitive dependency as part of the dependency graph for a good reason.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The dependency is undesired due to licensing constraints.</p></li><li class="listitem"><p>The dependency is not available in any of the declared repositories.</p></li><li class="listitem"><p>The metadata for the dependency exists but the artifact does not.</p></li><li class="listitem"><p>The metadata provides incorrect coordinates for a transitive dependency.</p></li></ul></div><p>Transitive dependencies can be excluded on the level of a declared dependency or a configuration. Let&rsquo;s demonstrate both use cases. In the following two examples the build script declares a dependency on Log4J, a popular logging framework in the Java world. The metadata of the particular version of Log4J also defines transitive dependencies.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="unresolvedTransitiveDependencies"></a><p class="title"><b>Example&nbsp;186.&nbsp;Unresolved artifacts for transitive dependencies</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">apply(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"plugin"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"java"</span>))
repositories {
    mavenCentral()
}
dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"log4j:log4j:1.2.15"</span>)
}</pre></div></div><br class="example-break"><p>If resolved from Maven Central some of the transitive dependencies provide metadata but not the corresponding binary artifact. As a result any task requiring the binary files will fail e.g. a compilation task.</p><pre class="screen">&gt; gradle -q compileJava

* What went wrong:
Could not resolve all files for configuration ':compileClasspath'.
&gt; Could not find jms.jar (javax.jms:jms:1.1).
  Searched in the following locations:
      https://repo.maven.apache.org/maven2/javax/jms/jms/1.1/jms-1.1.jar
&gt; Could not find jmxtools.jar (com.sun.jdmk:jmxtools:1.2.1).
  Searched in the following locations:
      https://repo.maven.apache.org/maven2/com/sun/jdmk/jmxtools/1.2.1/jmxtools-1.2.1.jar
&gt; Could not find jmxri.jar (com.sun.jmx:jmxri:1.2.1).
  Searched in the following locations:
      https://repo.maven.apache.org/maven2/com/sun/jmx/jmxri/1.2.1/jmxri-1.2.1.jar</pre><p>The situation can be fixed by adding a repository containing those dependencies. In the given example project, the source code does not actually use any of Log4J&rsquo;s functionality that require the JMS (e.g. <a class="ulink" href="https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/net/JMSAppender.html" target="_top"><code class="literal">JMSAppender</code></a>) or JMX libraries. It&rsquo;s safe to exclude them from the dependency declaration.</p><p>Exclusions need to spelled out as a key/value pair via the attributes <code class="literal">group</code> and/or <code class="literal">module</code>. For more information, refer to <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ModuleDependency.html#exclude-java.util.Map-" target="_top"><code class="classname">ModuleDependency.exclude(java.util.Map)</code></a>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="exclude-transitive-for-dependency"></a><p class="title"><b>Example&nbsp;187.&nbsp;Excluding transitive dependency for a particular dependency declaration</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"log4j:log4j:1.2.15"</span>) {
        exclude(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"group"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"javax.jms"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"module"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"jms"</span>))
        exclude(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"group"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"com.sun.jdmk"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"module"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"jmxtools"</span>))
        exclude(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"group"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"com.sun.jmx"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"module"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"jmxri"</span>))
    }
}</pre></div></div><br class="example-break"><p>You may find that other dependencies will want to pull in the same transitive dependency that misses the artifacts. Alternatively, you can exclude the transitive dependencies for a particular configuration by calling the method <a class="ulink" href="../dsl/org.gradle.api.artifacts.Configuration.html#org.gradle.api.artifacts.Configuration:exclude(java.util.Map)" target="_top"><code class="classname">Configuration.exclude(java.util.Map)</code></a>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="exclude-transitive-for-configuration"></a><p class="title"><b>Example&nbsp;188.&nbsp;Excluding transitive dependency for a particular configuration</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">configurations {
    implementation {
        exclude(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"group"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"javax.jms"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"module"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"jms"</span>))
        exclude(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"group"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"com.sun.jdmk"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"module"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"jmxtools"</span>))
        exclude(mapOf(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"group"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"com.sun.jmx"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"module"</span> to <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"jmxri"</span>))
    }
}
dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"log4j:log4j:1.2.15"</span>)
}</pre></div></div><br class="example-break"><div class="note"><p>As a build script author you often times know that you want to exclude a dependency for all configurations available in the project. You can use the method <a class="ulink" href="../javadoc/org/gradle/api/DomainObjectCollection.html#all-org.gradle.api.Action-" target="_top"><code class="classname">DomainObjectCollection.all(org.gradle.api.Action)</code></a> to define a global rule.</p></div><p>You might encounter other use cases that don&rsquo;t quite fit the bill of an exclude rule. For example you want to automatically select a version for a dependency with a specific requested version or you want to select a different group for a requested dependency to react to a relocation. Those use cases are better solved by the <a class="ulink" href="../dsl/org.gradle.api.artifacts.ResolutionStrategy.html" target="_top"><code class="classname">ResolutionStrategy</code></a> API. Some of these use cases are covered in <a class="xref" href="dependency_management.html#sec:finetuning_the_dependency_resolution_process">the section called &ldquo;Fine-tuning the dependency resolution process&rdquo;</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:enforcing_dependency_version" class="section-anchor" href="#sec:enforcing_dependency_version"></a>Enforcing a particular dependency version</h3></div></div></div><p>Gradle resolves any dependency version conflicts by selecting the latest version found in the dependency graph. Some projects might need to divert from the default behavior and enforce an earlier version of a dependency e.g. if the source code of the project depends on an older API of a dependency than some of the external libraries.</p><div class="note"><p>Enforcing a version of a dependency requires a conscious decision. Changing the version of a transitive dependency might lead to runtime errors if external libraries do not properly function without them. Consider upgrading your source code to use a newer version of the library as an alternative approach.</p></div><p>Let&rsquo;s say a project uses the <a class="ulink" href="https://hc.apache.org/httpcomponents-client-ga/" target="_top">HttpClient library</a> for performing HTTP calls. HttpClient pulls in <a class="ulink" href="https://commons.apache.org/proper/commons-codec/" target="_top">Commons Codec</a> as transitive dependency with version 1.10. However, the production source code of the project requires an API from Commons Codec 1.9 which is not available in 1.10 anymore. A dependency version can be enforced by declaring it in the build script and setting <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ExternalDependency.html#setForce-boolean-" target="_top"><code class="classname">ExternalDependency.setForce(boolean)</code></a> to <code class="literal">true</code>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="force-per-dependency"></a><p class="title"><b>Example&nbsp;189.&nbsp;Enforcing a dependency version</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.apache.httpcomponents:httpclient:4.5.4"</span>)
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"commons-codec:commons-codec:1.9"</span>) {
        force = true
    }
}</pre></div></div><br class="example-break"><p>If the project requires a specific version of a dependency on a configuration-level then it can be achieved by calling the method <a class="ulink" href="../dsl/org.gradle.api.artifacts.ResolutionStrategy.html#org.gradle.api.artifacts.ResolutionStrategy:force(java.lang.Object[])" target="_top"><code class="classname">ResolutionStrategy.force(java.lang.Object[])</code></a>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="force-per-configuration"></a><p class="title"><b>Example&nbsp;190.&nbsp;Enforcing a dependency version on the configuration-level</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">configurations {
    compileClasspath {
        force(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"commons-codec:commons-codec:1.9"</span>)
    }
}
dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.apache.httpcomponents:httpclient:4.5.4"</span>)
}</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:disabling_resolution_transitive_dependencies" class="section-anchor" href="#sub:disabling_resolution_transitive_dependencies"></a>Disabling resolution of transitive dependencies</h3></div></div></div><p>By default Gradle resolves all transitive dependencies specified by the dependency metadata. Sometimes this behavior may not be desirable e.g. if the metadata is incorrect or defines a large graph of transitive dependencies. You can tell Gradle to disable transitive dependency management for a dependency by setting <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ModuleDependency.html#setTransitive-boolean-" target="_top"><code class="classname">ModuleDependency.setTransitive(boolean)</code></a> to <code class="literal">true</code>. As a result only the main artifact will be resolved for the declared dependency.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="disabling-transitive-dependency-resolution"></a><p class="title"><b>Example&nbsp;191.&nbsp;Disabling transitive dependency resolution for a declared dependency</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"com.google.guava:guava:23.0"</span>) {
        transitive = false
    }
}</pre></div></div><br class="example-break"><div class="note"><p>Disabling transitive dependency resolution will likely require you to declare the necessary runtime dependencies in your build script which otherwise would have been resolved automatically. Not doing so might lead to runtime classpath issues.</p></div><p>A project can decide to disable transitive dependency resolution completely. You either don&rsquo;t want to rely on the metadata published to the consumed repositories or you want to gain full control over the dependencies in your graph. For more information, see <a class="ulink" href="../javadoc/org/gradle/api/artifacts/Configuration.html#setTransitive-boolean-" target="_top"><code class="classname">Configuration.setTransitive(boolean)</code></a>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="disabling-transitive-dependency-resolution-for-configuration"></a><p class="title"><b>Example&nbsp;192.&nbsp;Disabling transitive dependency resolution on the configuration-level</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">all {
    transitive = false
}
dependencies {
    implementation(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"com.google.guava:guava:23.0"</span>)
}</pre></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:inspecting_dependencies" class="section-anchor" href="#sec:inspecting_dependencies"></a>Inspecting dependencies</h2></div></div></div><p>Gradle provides sufficient tooling to navigate large dependency graphs and mitigate situations that can lead to <a class="ulink" href="https://en.wikipedia.org/wiki/Dependency_hell" target="_top">dependency hell</a>. Users can chose to render the full graph of dependencies as well as identify the selection reason and origin for a dependency. The origin of a dependency can be a declared dependency in the build script or a transitive dependency in graph plus their corresponding configuration. Gradle offers both capabilities through visual representation via build scans and as command line tooling.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:listing_dependencies" class="section-anchor" href="#sec:listing_dependencies"></a>Listing dependencies in a project</h3></div></div></div><p>A project can declare one or more dependencies. Gradle can visualize the whole dependency tree for every configuration available in the project.</p><p>Rendering the dependency tree is particularly useful if you&rsquo;d like to identify which dependencies have been resolved at runtime. It also provides you with information about any dependency conflict resolution that occurred in the process and clearly indicates the selected version. The dependency report always contains declared and transitive dependencies.</p><p>Let&rsquo;s say you&rsquo;d want to create tasks for your project that use the <a class="ulink" href="https://www.eclipse.org/jgit/" target="_top">JGit library</a> to execute SCM operations e.g. to model a release process. You can declare dependencies for any external tooling with the help of a <a class="link" href="dependency_management.html#sub:scope_of_dependency_configurations">custom configuration</a> so that it doesn&rsquo;t doesn&rsquo;t pollute other contexts like the compilation classpath for your production source code.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="jgit-dependency"></a><p class="title"><b>Example&nbsp;193.&nbsp;Declaring the JGit dependency with a custom configuration</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">repositories {
    jcenter()
}
configurations {
    scm
}
dependencies {
    scm(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r"</span>)
}</pre></div></div><br class="example-break"><p>A <a class="ulink" href="https://scans.gradle.com/" target="_top">build scan</a> can visualize dependencies as a navigable, searchable tree. Additional context information can be rendered by clicking on a specific dependency in the graph.</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N133BC"></a><p class="title"><b>Figure&nbsp;11.&nbsp;Dependency tree in a build scan</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="638"><tr><td><img src="img/dependency-management-dependencies-report-build-scan.png" width="638" alt="Dependency tree in a build scan"></td></tr></table></div></div><br class="figure-break"><p>Every Gradle project provides the task <code class="literal">dependencies</code> to render the so-called <span class="emphasis"><em>dependency report</em></span> from the command line. By default the dependency report renders dependencies for all configurations. To pair down on the information provide the optional parameter <code class="literal">--configuration</code>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="dependencyReport"></a><p class="title"><b>Example&nbsp;194.&nbsp;Rendering the dependency report for a custom configuration</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle -q dependencies --configuration scm</code></strong></p><pre class="screen">&gt; gradle -q dependencies --configuration scm

------------------------------------------------------------
Root project
------------------------------------------------------------

scm
\--- org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r
     +--- com.jcraft:jsch:0.1.54
     +--- com.googlecode.javaewah:JavaEWAH:1.1.6
     +--- org.apache.httpcomponents:httpclient:4.3.6
     |    +--- org.apache.httpcomponents:httpcore:4.3.3
     |    +--- commons-logging:commons-logging:1.1.3
     |    \--- commons-codec:commons-codec:1.6
     \--- org.slf4j:slf4j-api:1.7.2
</pre></div></div><br class="example-break"><p>The dependencies report provides detailed information about the dependencies available in the graph. Any dependency that could not be resolved is marked with <code class="literal">FAILED</code> in red color. Dependencies with the same coordinates that can occur multiple times in the graph are omitted and indicated by an asterisk. Dependencies that had to undergo conflict resolution render the requested and selected version separated by a right arrow character.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="_identifying_which_dependency_version_was_selected_and_why" class="section-anchor" href="#_identifying_which_dependency_version_was_selected_and_why"></a>Identifying which dependency version was selected and why</h3></div></div></div><p>Large software projects inevitably deal with an increased number of dependencies either through direct or transitive dependencies. The <a class="link" href="dependency_management.html#sec:listing_dependencies">dependencies report</a> provides you with the raw list of dependencies but does not explain <span class="emphasis"><em>why</em></span> they have been selected or <span class="emphasis"><em>which</em></span> dependency is responsible for pulling them into the graph.</p><p>Let&rsquo;s have a look at a concrete example. A project may request two different versions of the same dependency either as direct or transitive dependency. Gradle applies version conflict resolution to ensure that only one version of the dependency exists in the dependency graph. In this example the conflicting dependency is represented by <code class="literal">commons-codec:commons-codec</code>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="jgit-dependency-with-conflict"></a><p class="title"><b>Example&nbsp;195.&nbsp;Declaring the JGit dependency and a conflicting dependency</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">repositories {
    jcenter()
}
configurations {
    scm
}
dependencies {
    scm(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r"</span>)
    scm(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"commons-codec:commons-codec:1.7"</span>)
}</pre></div></div><br class="example-break"><p>The dependency tree in a <a class="ulink" href="https://scans.gradle.com/" target="_top">build scan</a> renders the selection reason (conflict resolution) as well as the origin of a dependency if you click on a dependency and select the "Required By" tab.</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N13402"></a><p class="title"><b>Figure&nbsp;12.&nbsp;Dependency insight capabilities in a build scan</b></p><div class="figure-contents"><img src="img/dependency-management-dependency-insight-report-build-scan.png" alt="Dependency insight capabilities in a build scan"></div></div><br class="figure-break"><p>Every Gradle project provides the task <code class="literal">dependencyInsight</code> to render the so-called  <span class="emphasis"><em>dependency insight report</em></span> from the command line. Given a dependency in the dependency graph you can identify the selection reason and track down the origin of the dependency selection. You can think of the dependency insight report as the inverse representation of the dependency report for a given dependency. When executing the task you have to provide the mandatory parameter <code class="literal">--dependency</code> to specify the coordinates of the dependency under inspection. The parameter <code class="literal">--configuration</code> is optional but helps with filtering the output.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="dependencyInsightReport"></a><p class="title"><b>Example&nbsp;196.&nbsp;Using the dependency insight report for a given dependency</b></p><div class="example-contents"><p>Output of <strong class="userinput"><code>gradle -q dependencyInsight --dependency commons-codec --configuration scm</code></strong></p><pre class="screen">&gt; gradle -q dependencyInsight --dependency commons-codec --configuration scm
commons-codec:commons-codec:1.7 (conflict resolution)
\--- scm

commons-codec:commons-codec:1.6 -&gt; 1.7
\--- org.apache.httpcomponents:httpclient:4.3.6
     \--- org.eclipse.jgit:org.eclipse.jgit:4.9.2.201712150930-r
          \--- scm
</pre></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:working_with_dependencies" class="section-anchor" href="#sec:working_with_dependencies"></a>Working with dependencies</h2></div></div></div><p>For the examples below we have the following dependencies setup:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="configurationHandlingSetup"></a><p class="title"><b>Example&nbsp;197.&nbsp;Configuration.copy</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">configurations {
    sealife
    alllife
}
dependencies {
    sealife(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"sea.mammals:orca:1.0"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"sea.fish:shark:1.0"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"sea.fish:tuna:1.0"</span>)
    alllife(configurations.sealife)
    alllife(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"air.birds:albatross:1.0"</span>)
}</pre></div></div><br class="example-break"><p>The dependencies have the following transitive dependencies:</p><p>shark-1.0 -&gt; seal-2.0, tuna-1.0</p><p>orca-1.0 -&gt; seal-1.0</p><p>tuna-1.0 -&gt; herring-1.0</p><p>You can use the configuration to access the declared dependencies or a subset of those:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="configurationHandlingDependencies"></a><p class="title"><b>Example&nbsp;198.&nbsp;Accessing declared dependencies</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">val dependencies by tasks.creating {
    doLast {
        each {
            println(dep.name)
        }
        println()
        each {
            println(dep.name)
        }
        println()
        each {
            println(dep.name)
        }
    }
}</pre><p>Output of <strong class="userinput"><code>gradle -q dependencies</code></strong></p><pre class="screen">&gt; gradle -q dependencies
albatross

albatross
orca
shark
tuna

albatross
shark
tuna
</pre></div></div><br class="example-break"><p>The <code class="literal">dependencies</code> task returns only the dependencies belonging explicitly to the configuration. The <code class="literal">allDependencies</code> task includes the dependencies from extended configurations.</p><p>To get the library files of the configuration dependencies you can do:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="configurationHandlingAllFiles"></a><p class="title"><b>Example&nbsp;199.&nbsp;Configuration.files</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">val allFiles by tasks.creating {
    doLast {
        each {
            println(file.name)
        }
    }
}</pre><p>Output of <strong class="userinput"><code>gradle -q allFiles</code></strong></p><pre class="screen">&gt; gradle -q allFiles
orca-1.0.jar
shark-1.0.jar
tuna-1.0.jar
seal-2.0.jar
herring-1.0.jar
</pre></div></div><br class="example-break"><p>Sometimes you want the library files of a subset of the configuration dependencies (e.g. of a single dependency).</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="configurationHandlingFiles"></a><p class="title"><b>Example&nbsp;200.&nbsp;Configuration.files with spec</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">val files by tasks.creating {
    doLast {
        each {
            println(file.name)
        }
    }
}</pre><p>Output of <strong class="userinput"><code>gradle -q files</code></strong></p><pre class="screen">&gt; gradle -q files
orca-1.0.jar
seal-2.0.jar</pre></div></div><br class="example-break"><p>The <code class="literal">Configuration.files</code> method always retrieves all artifacts of the <span class="emphasis"><em>whole</em></span> configuration. It then filters the retrieved files by specified dependencies. As you can see in the example, transitive dependencies are included.</p><p>You can also copy a configuration. You can optionally specify that only a subset of dependencies from the original configuration should be copied. The copying methods come in two flavors. The <code class="literal">copy</code> method copies only the dependencies belonging explicitly to the configuration. The <code class="literal">copyRecursive</code> method copies all the dependencies, including the dependencies from extended configurations.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="configurationHandlingCopy"></a><p class="title"><b>Example&nbsp;201.&nbsp;Configuration.copy</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">val copy by tasks.creating {
    doLast {
        each {
            println(dep.name)
        }
        println()
        each {
            println(dep.name)
        }
    }
}</pre><p>Output of <strong class="userinput"><code>gradle -q copy</code></strong></p><pre class="screen">&gt; gradle -q copy
albatross
shark
tuna

albatross
</pre></div></div><br class="example-break"><p>It is important to note that the returned files of the copied configuration are often but not always the same than the returned files of the dependency subset of the original configuration. In case of version conflicts between dependencies of the subset and dependencies not belonging to the subset the resolve result might be different.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="configurationHandlingCopyVsFiles"></a><p class="title"><b>Example&nbsp;202.&nbsp;Configuration.copy vs. Configuration.files</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">val copyVsFiles by tasks.creating {
    doLast {
        each {
            println(file.name)
        }
        println()
        each {
            println(file.name)
        }
    }
}</pre><p>Output of <strong class="userinput"><code>gradle -q copyVsFiles</code></strong></p><pre class="screen">&gt; gradle -q copyVsFiles
orca-1.0.jar
seal-1.0.jar

orca-1.0.jar
seal-2.0.jar</pre></div></div><br class="example-break"><p>In the example above, <code class="literal">orca</code> has a dependency on <code class="literal">seal-1.0</code> whereas <code class="literal">shark</code> has a dependency on <code class="literal">seal-2.0</code>. The original configuration has therefore a version conflict which is resolved to the newer <code class="literal">seal-2.0</code> version. The <code class="literal">files</code> method therefore returns <code class="literal">seal-2.0</code> as a transitive dependency of <code class="literal">orca</code>. The copied configuration only has <code class="literal">orca</code> as a dependency and therefore there is no version conflict and <code class="literal">seal-1.0</code> is returned as a transitive dependency.</p><p>Once a configuration is resolved it is immutable. Changing its state or the state of one of its dependencies will cause an exception. You can always copy a resolved configuration. The copied configuration is in the unresolved state and can be freshly resolved.</p><p>To learn more about the API of the configuration class see the API documentation: <a class="ulink" href="../dsl/org.gradle.api.artifacts.Configuration.html" target="_top"><code class="classname">Configuration</code></a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:declaring_repositories" class="section-anchor" href="#sec:declaring_repositories"></a>Declaring repositories</h2></div></div></div><p>Gradle can resolve external dependencies from one or many repositories based on Maven, Ivy or flat directory directory formats. Check out the <a class="link" href="repository_types.html">full reference on all types of repositories</a> for more information.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:declaring_public_repository" class="section-anchor" href="#sec:declaring_public_repository"></a>Declaring a publicly-available repository</h3></div></div></div><p>Organizations building software may want to leverage public binary repositories to download and consume open source dependencies. Popular public repositories include Maven Central, Bintray JCenter and the Google Android repository. Gradle provides built-in shortcut methods for the most widely-used repositories.</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N134E1"></a><p class="title"><b>Figure&nbsp;13.&nbsp;Declaring a repository with the help of shortcut methods</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="425"><tr><td><img src="img/dependency-management-shortcut-repositories.png" width="425" alt="Declaring a repository with the help of shortcut methods"></td></tr></table></div></div><br class="figure-break"><p>To declare JCenter as repository, add this code to your build script:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="public-repository"></a><p class="title"><b>Example&nbsp;203.&nbsp;Declaring JCenter repository as source for resolving dependencies</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">repositories {
    jcenter()
}</pre></div></div><br class="example-break"><p>Under the covers Gradle resolves dependencies from the respective URL of the public repository defined by the shortcut method. All shortcut methods are available via the <a class="ulink" href="../dsl/org.gradle.api.artifacts.dsl.RepositoryHandler.html" target="_top"><code class="classname">RepositoryHandler</code></a> API. Alternatively, you can <a class="link" href="dependency_management.html#sec:declaring_custom_repository">spell out the URL of the repository</a> for more fine-grained control.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:declaring_custom_repository" class="section-anchor" href="#sec:declaring_custom_repository"></a>Declaring a custom repository by URL</h3></div></div></div><p>Most enterprise projects set up a binary repository available only within an intranet. In-house repositories enable teams to publish internal binaries, setup user management and security measure and ensure uptime and availability. Specifying a custom URL is also helpful if you want to declare a less popular, but publicly-available repository.</p><p>Add the following code to declare an in-house repository for your build reachable through a custom URL.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="custom-repository"></a><p class="title"><b>Example&nbsp;204.&nbsp;Declaring a custom repository by URL</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">repositories {
    maven {
        url(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"http://repo.mycompany.com/maven2"</span>)
    }
}</pre></div></div><br class="example-break"><p>Repositories with custom URLs can be specified as Maven or Ivy repositories by calling the corresponding methods available on the <a class="ulink" href="../dsl/org.gradle.api.artifacts.dsl.RepositoryHandler.html" target="_top"><code class="classname">RepositoryHandler</code></a> API. Gradle supports other protocols than <code class="literal">http</code> or <code class="literal">https</code> as part of the custom URL e.g. <code class="literal">file</code>, <code class="literal">sftp</code> or <code class="literal">s3</code>. For a full coverage see the <a class="link" href="repository_types.html#sub:supported_transport_protocols">reference manual on supported transport protocols</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:declaring_multiple_repositories" class="section-anchor" href="#sec:declaring_multiple_repositories"></a>Declaring multiple repositories</h3></div></div></div><p>You can define more than one repository for resolving dependencies. Declaring multiple repositories is helpful if some dependencies are only available in one repository but not the other. You can mix any type of repository described in the <a class="link" href="repository_types.html">reference section</a>.</p><p>This example demonstrates how to declare various shortcut and custom URL repositories for a project:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="multiple-repositories"></a><p class="title"><b>Example&nbsp;205.&nbsp;Declaring multiple repositories</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">repositories {
    jcenter()
    maven {
        url(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"https://maven.springframework.org/release"</span>)
    }
    maven {
        url(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"https://maven.restlet.org"</span>)
    }
}</pre></div></div><br class="example-break"><div class="note"><p>The order of declaration determines how Gradle will check for dependencies at runtime. If Gradle finds a module descriptor in a particular repository, it will attempt to download all of the artifacts for that module from <span class="emphasis"><em>the same repository</em></span>. You can learn more about <a class="link" href="dependency_management.html#sec:dependency_resolution">Gradle&rsquo;s resolution mechanism</a> below.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:dependency_resolution" class="section-anchor" href="#sec:dependency_resolution"></a>How dependency resolution works</h2></div></div></div><p>Gradle takes your dependency declarations and repository definitions and attempts to download all of your dependencies by a process called <span class="emphasis"><em>dependency resolution</em></span>. Below is a brief outline of how this process works.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Given a required dependency, Gradle first attempts to resolve the <span class="emphasis"><em>module</em></span> for that dependency. Each repository is inspected in order, searching first for a <span class="emphasis"><em>module descriptor</em></span> file (POM or Ivy file) that indicates the presence of that module. If no module descriptor is found, Gradle will search for the presence of the primary <span class="emphasis"><em>module artifact</em></span> file indicating that the module exists in the repository.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>If the dependency is declared as a dynamic version (like <code class="literal">1.+</code>), Gradle will resolve this to the newest available static version (like <code class="literal">1.2</code>) in the repository. For Maven repositories, this is done using the <code class="literal">maven-metadata.xml</code> file, while for Ivy repositories this is done by directory listing.</p></li><li class="listitem"><p>If the module descriptor is a POM file that has a parent POM declared, Gradle will recursively attempt to resolve each of the parent modules for the POM.</p></li></ul></div></li><li class="listitem"><p>Once each repository has been inspected for the module, Gradle will choose the 'best' one to use. This is done using the following criteria:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>For a dynamic version, a 'higher' static version is preferred over a 'lower' version.</p></li><li class="listitem"><p>Modules declared by a module descriptor file (Ivy or POM file) are preferred over modules that have an artifact file only.</p></li><li class="listitem"><p>Modules from earlier repositories are preferred over modules in later repositories.</p></li><li class="listitem"><p>When the dependency is declared by a static version and a module descriptor file is found in a repository, there is no need to continue searching later repositories and the remainder of the process is short-circuited.</p></li></ul></div></li><li class="listitem"><p>All of the artifacts for the module are then requested from the <span class="emphasis"><em>same repository</em></span> that was chosen in the process above.</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:finetuning_the_dependency_resolution_process" class="section-anchor" href="#sec:finetuning_the_dependency_resolution_process"></a>Fine-tuning the dependency resolution process</h2></div></div></div><p>In most cases, Gradle&rsquo;s default dependency management will resolve the dependencies that you want in your build. In some cases, however, it can be necessary to tweak dependency resolution to ensure that your build receives exactly the right dependencies.</p><p>There are a number of ways that you can influence how Gradle resolves dependencies.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:forcing_modules" class="section-anchor" href="#sec:forcing_modules"></a>Forcing a particular module version</h3></div></div></div><p>Forcing a module version tells Gradle to always use a specific version for given dependency (transitive or not), overriding any version specified in a published module descriptor. This can be very useful when tackling version conflicts - for more information see <a class="xref" href="dependency_management.html#sub:version_conflicts">the section called &ldquo;Resolve version conflicts&rdquo;</a>.</p><p>Force versions can also be used to deal with rogue metadata of transitive dependencies. If a transitive dependency has poor quality metadata that leads to problems at dependency resolution time, you can force Gradle to use a newer, fixed version of this dependency. For an example, see the <a class="ulink" href="../dsl/org.gradle.api.artifacts.ResolutionStrategy.html" target="_top"><code class="classname">ResolutionStrategy</code></a> class in the API documentation. Note that 'dependency resolve rules' (outlined below) provide a more powerful mechanism for replacing a broken module dependency. See <a class="xref" href="dependency_management.html#sec:blacklisting_version">the section called &ldquo;Blacklisting a particular version with a replacement&rdquo;</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:prefer_project_modules" class="section-anchor" href="#sec:prefer_project_modules"></a>Preferring modules that are part of the build</h3></div></div></div><p>Preferring project modules tells Gradle to use the version of a module that is part of the build itself (as part of <a class="xref" href="multi_project_builds.html"><i>Authoring Multi-Project Builds</i></a> or as includes in <a class="xref" href="composite_builds.html"><i>Composite builds</i></a>). This allows the easy inclusion of an individual fork (e.g. containing a bugfix) of a module - for more information see <a class="xref" href="dependency_management.html#sub:version_conflicts">the section called &ldquo;Resolve version conflicts&rdquo;</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:dependency_resolve_rules" class="section-anchor" href="#sec:dependency_resolve_rules"></a>Using dependency resolve rules</h3></div></div></div><p>A dependency resolve rule is executed for each resolved dependency, and offers a powerful api for manipulating a requested dependency prior to that dependency being resolved. This feature is <a class="link" href="feature_lifecycle.html">incubating</a>, but currently offers the ability to change the group, name and/or version of a requested dependency, allowing a dependency to be substituted with a completely different module during resolution.</p><p>Dependency resolve rules provide a very powerful way to control the dependency resolution process, and can be used to implement all sorts of advanced patterns in dependency management. Some of these patterns are outlined below. For more information and code samples see the <a class="ulink" href="../dsl/org.gradle.api.artifacts.ResolutionStrategy.html" target="_top"><code class="classname">ResolutionStrategy</code></a> class in the API documentation.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:releasable_unit" class="section-anchor" href="#sec:releasable_unit"></a>Modelling releasable units</h4></div></div></div><p>Often an organisation publishes a set of libraries with a single version; where the libraries are built, tested and published together. These libraries form a 'releasable unit', designed and intended to be used as a whole. It does not make sense to use libraries from different releasable units together.</p><p>But it is easy for transitive dependency resolution to violate this contract. For example:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">module-a</code> depends on <code class="literal">releasable-unit:part-one:1.0</code></p></li><li class="listitem"><p><code class="literal">module-b</code> depends on <code class="literal">releasable-unit:part-two:1.1</code></p></li></ul></div><p>A build depending on both <code class="literal">module-a</code> and <code class="literal">module-b</code> will obtain different versions of libraries within the releasable unit.</p><p>Dependency resolve rules give you the power to enforce releasable units in your build. Imagine a releasable unit defined by all libraries that have 'org.gradle' group. We can force all of these libraries to use a consistent version:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="releasable-unit"></a><p class="title"><b>Example&nbsp;206.&nbsp;Forcing consistent version for a group of libraries</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> DependencyResolveDetails 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">39.</span>
       resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;
                                         ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1</span> error


configurations.all {
    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (details.requested.group == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.gradle'</span>) {
            details.useVersion <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'1.4'</span>
        }
    }
}
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:custom_versioning_scheme" class="section-anchor" href="#sec:custom_versioning_scheme"></a>Implement a custom versioning scheme</h4></div></div></div><p>In some corporate environments, the list of module versions that can be declared in Gradle builds is maintained and audited externally. Dependency resolve rules provide a neat implementation of this pattern:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>In the build script, the developer declares dependencies with the module group and name, but uses a placeholder version, for example: <code class="literal">'default'</code>.</p></li><li class="listitem"><p>The 'default' version is resolved to a specific version via a dependency resolve rule, which looks up the version in a corporate catalog of approved modules.</p></li></ul></div><p>This rule implementation can be neatly encapsulated in a corporate plugin, and shared across all builds within the organisation.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="custom-versioning-scheme"></a><p class="title"><b>Example&nbsp;207.&nbsp;Using a custom versioning scheme</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> DependencyResolveDetails 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">39.</span>
       resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;
                                         ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1</span> error


configurations.all {
    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (details.requested.version == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'default'</span>) {
            def version = findDefaultVersionInCatalog(details.requested.group, details.requested.name)
            details.useVersion version
        }
    }
}

def findDefaultVersionInCatalog(String group, String name) {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//some custom logic that resolves the default version into a specific version</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"1.0"</span>
}
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:blacklisting_version" class="section-anchor" href="#sec:blacklisting_version"></a>Blacklisting a particular version with a replacement</h4></div></div></div><p>Dependency resolve rules provide a mechanism for blacklisting a particular version of a dependency and providing a replacement version. This can be useful if a certain dependency version is broken and should not be used, where a dependency resolve rule causes this version to be replaced with a known good version. One example of a broken module is one that declares a dependency on a library that cannot be found in any of the public repositories, but there are many other reasons why a particular module version is unwanted and a different version is preferred.</p><p>In example below, imagine that version <code class="literal">1.2.1</code> contains important fixes and should always be used in preference to <code class="literal">1.2</code>. The rule provided will enforce just this: any time version <code class="literal">1.2</code> is encountered it will be replaced with <code class="literal">1.2.1</code>. Note that this is different from a forced version as described above, in that any other versions of this module would not be affected. This means that the 'newest' conflict resolution strategy would still select version <code class="literal">1.3</code> if this version was also pulled transitively.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="blacklisting_version"></a><p class="title"><b>Example&nbsp;208.&nbsp;Blacklisting a version with a replacement</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> DependencyResolveDetails 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">39.</span>
       resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;
                                         ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1</span> error


configurations.all {
    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (details.requested.group == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.software'</span> &amp;&amp; details.requested.name == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'some-library'</span> &amp;&amp; details.requested.version == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'1.2'</span>) {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//prefer different version which contains some necessary fixes</span>
            details.useVersion <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'1.2.1'</span>
        }
    }
}
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:module_substitution" class="section-anchor" href="#sec:module_substitution"></a>Substituting a dependency module with a compatible replacement</h4></div></div></div><p>At times a completely different module can serve as a replacement for a requested module dependency. Examples include using <code class="literal">'groovy'</code> in place of <code class="literal">'groovy-all'</code>, or using <code class="literal">'log4j-over-slf4j'</code> instead of <code class="literal">'log4j'</code>. Starting with Gradle 1.5 you can make these substitutions using dependency resolve rules:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="module_substitution"></a><p class="title"><b>Example&nbsp;209.&nbsp;Changing dependency group and/or name at the resolution</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> DependencyResolveDetails 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">39.</span>
       resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;
                                         ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1</span> error


configurations.all {
    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (details.requested.name == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'groovy-all'</span>) {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//prefer 'groovy' over 'groovy-all':</span>
            details.useTarget group: details.requested.group, name: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'groovy'</span>, version: details.requested.version
        }
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (details.requested.name == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'log4j'</span>) {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//prefer 'log4j-over-slf4j' over 'log4j', with fixed version:</span>
            details.useTarget <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.slf4j:log4j-over-slf4j:1.7.10"</span>
        }
    }
}
</pre></div></div><br class="example-break"></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="dependency_substitution_rules" class="section-anchor" href="#dependency_substitution_rules"></a>Dependency Substitution Rules</h3></div></div></div><p>Dependency substitution rules work similarly to dependency resolve rules. In fact, many capabilities of dependency resolve rules can be implemented with dependency substitution rules. They allow project and module dependencies to be transparently substituted with specified replacements. Unlike dependency resolve rules, dependency substitution rules allow project and module dependencies to be substituted interchangeably.</p><p><span class="emphasis"><em>Adding a dependency substitution rule to a configuration changes the timing of when that configuration is resolved.</em></span> Instead of being resolved on first use, the configuration is instead resolved when the task graph is being constructed. This can have unexpected consequences if the configuration is being further modified during task execution, or if the configuration relies on modules that are published during execution of another task.</p><p>To explain:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A <code class="literal">Configuration</code> can be declared as an input to any Task, and that configuration can include project dependencies when it is resolved.</p></li><li class="listitem"><p>If a project dependency is an input to a Task (via a configuration), then tasks to build the project artifacts must be added to the task dependencies.</p></li><li class="listitem"><p>In order to determine the project dependencies that are inputs to a task, Gradle needs to resolve the <code class="literal">Configuration</code> inputs.</p></li><li class="listitem"><p>Because the Gradle task graph is fixed once task execution has commenced, Gradle needs to perform this resolution prior to executing any tasks.</p></li></ul></div><p>In the absence of dependency substitution rules, Gradle knows that an external module dependency will never transitively reference a project dependency. This makes it easy to determine the full set of project dependencies for a configuration through simple graph traversal. With this functionality, Gradle can no longer make this assumption, and must perform a full resolve in order to determine the project dependencies.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:module_to_project_substitution" class="section-anchor" href="#sec:module_to_project_substitution"></a>Substituting an external module dependency with a project dependency</h4></div></div></div><p>One use case for dependency substitution is to use a locally developed version of a module in place of one that is downloaded from an external repository. This could be useful for testing a local, patched version of a dependency.</p><p>The module to be replaced can be declared with or without a version specified.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="module_to_project_substitution"></a><p class="title"><b>Example&nbsp;210.&nbsp;Substituting a module with a project</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">all {
    dependencySubstitution {
        with(project(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">":api"</span>))
        with(project(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">":util"</span>))
    }
}</pre></div></div><br class="example-break"><p>Note that a project that is substituted must be included in the multi-project build (via settings.gradle). Dependency substitution rules take care of replacing the module dependency with the project dependency and wiring up any task dependencies, but do not implicitly include the project in the build.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:project_to_module_substitution" class="section-anchor" href="#sec:project_to_module_substitution"></a>Substituting a project dependency with a module replacement</h4></div></div></div><p>Another way to use substitution rules is to replace a project dependency with a module in a multi-project build. This can be useful to speed up development with a large multi-project build, by allowing a subset of the project dependencies to be downloaded from a repository rather than being built.</p><p>The module to be used as a replacement must be declared with a version specified.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="project_to_module_substitution"></a><p class="title"><b>Example&nbsp;211.&nbsp;Substituting a project with a module</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">all {
    dependencySubstitution {
        with(module(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.utils:api:1.3"</span>))
    }
}</pre></div></div><br class="example-break"><p>When a project dependency has been replaced with a module dependency, that project is still included in the overall multi-project build. However, tasks to build the replaced dependency will not be executed in order to build the resolve the depending <code class="literal">Configuration</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:conditional_dependency_substitution" class="section-anchor" href="#sec:conditional_dependency_substitution"></a>Conditionally substituting a dependency</h4></div></div></div><p>A common use case for dependency substitution is to allow more flexible assembly of sub-projects within a multi-project build. This can be useful for developing a local, patched version of an external dependency or for building a subset of the modules within a large multi-project build.</p><p>The following example uses a dependency substitution rule to replace any module dependency with the group "org.example", but only if a local project matching the dependency name can be located.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="project_substitution"></a><p class="title"><b>Example&nbsp;212.&nbsp;Conditionally substituting a dependency</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> DependencySubstitution 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">55.</span>
   gy.dependencySubstitution.all { Dependen
                                 ^

build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">3</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ModuleComponentSelector 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">3</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">49.</span>
   pendency.requested <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">instanceof</span> ModuleComp
                                 ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span> errors


    configurations.all {
        resolutionStrategy.dependencySubstitution.all { DependencySubstitution dependency -&gt;
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (dependency.requested <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">instanceof</span> ModuleComponentSelector &amp;&amp; dependency.requested.group == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.example"</span>) {
                def targetProject = findProject(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">":${dependency.requested.module}"</span>)
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (targetProject != null) {
                    dependency.useTarget targetProject
                }
            }
        }
    }
</pre></div></div><br class="example-break"><p>Note that a project that is substituted must be included in the multi-project build (via settings.gradle). Dependency substitution rules take care of replacing the module dependency with the project dependency, but do not implicitly include the project in the build.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:configuration_defaults" class="section-anchor" href="#sec:configuration_defaults"></a>Specifying default dependencies for a configuration</h3></div></div></div><p>A configuration can be configured with default dependencies to be used if no dependencies are explicitly set for the configuration. A primary use case of this functionality is for developing plugins that make use of versioned tools that the user might override. By specifying default dependencies, the plugin can use a default version of the tool only if the user has not specified a particular version to use.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="configuration_default_dependencies"></a><p class="title"><b>Example&nbsp;213.&nbsp;Specifying default dependencies on a configuration</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">configurations {
    pluginTool {
        defaultDependencies {
            add(create(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.gradle:my-util:1.0"</span>))
        }
    }
}</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="ivy_dynamic_resolve_mode" class="section-anchor" href="#ivy_dynamic_resolve_mode"></a>Enabling Ivy dynamic resolve mode</h3></div></div></div><p>Gradle&rsquo;s Ivy repository implementations support the equivalent to Ivy&rsquo;s dynamic resolve mode. Normally, Gradle will use the <code class="literal">rev</code> attribute for each dependency definition included in an <code class="literal">ivy.xml</code> file. In dynamic resolve mode, Gradle will instead prefer the <code class="literal">revConstraint</code> attribute over the <code class="literal">rev</code> attribute for a given dependency definition. If the <code class="literal">revConstraint</code> attribute is not present, the <code class="literal">rev</code> attribute is used instead.</p><p>To enable dynamic resolve mode, you need to set the appropriate option on the repository definition. A couple of examples are shown below. Note that dynamic resolve mode is only available for Gradle&rsquo;s Ivy repositories. It is not available for Maven repositories, or custom Ivy <code class="literal">DependencyResolver</code> implementations.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="dynamicResolveMode"></a><p class="title"><b>Example&nbsp;214.&nbsp;Enabling dynamic resolve mode</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">repositories {
    ivy {
        url(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"http://repo.mycompany.com/repo"</span>)
        resolve.dynamicMode = true
    }
}
withType(IvyArtifactRepository) {
    resolve.dynamicMode = true
}</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="component_metadata_rules" class="section-anchor" href="#component_metadata_rules"></a>Component metadata rules</h3></div></div></div><p>Each module (also called <span class="emphasis"><em>component</em></span>) has metadata associated with it, such as its group, name, version, dependencies, and so on. This metadata typically originates in the module&rsquo;s descriptor. Metadata rules allow certain parts of a module&rsquo;s metadata to be manipulated from within the build script. They take effect after a module&rsquo;s descriptor has been downloaded, but before it has been selected among all candidate versions. This makes metadata rules another instrument for customizing dependency resolution.</p><p>One piece of module metadata that Gradle understands is a module&rsquo;s <span class="emphasis"><em>status scheme</em></span>. This concept, also known from Ivy, models the different levels of maturity that a module transitions through over time. The default status scheme, ordered from least to most mature status, is <code class="literal">integration</code>, <code class="literal">milestone</code>, <code class="literal">release</code>. Apart from a status scheme, a module also has a (current) <span class="emphasis"><em>status</em></span>, which must be one of the values in its status scheme. If not specified in the (Ivy) descriptor, the status defaults to <code class="literal">integration</code> for Ivy modules and Maven snapshot modules, and <code class="literal">release</code> for Maven modules that aren&rsquo;t snapshots.</p><p>A module&rsquo;s status and status scheme are taken into consideration when a <code class="literal">latest</code> version selector is resolved. Specifically, <code class="literal">latest.someStatus</code> will resolve to the highest module version that has status <code class="literal">someStatus</code> or a more mature status. For example, with the default status scheme in place, <code class="literal">latest.integration</code> will select the highest module version regardless of its status (because <code class="literal">integration</code> is the least mature status), whereas <code class="literal">latest.release</code> will select the highest module version with status <code class="literal">release</code>. Here is what this looks like in code:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="latestSelector"></a><p class="title"><b>Example&nbsp;215.&nbsp;'Latest' version selector</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">dependencies {
    config1(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:client:latest.integration"</span>)
    config2(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:client:latest.release"</span>)
}
val listConfigs by tasks.creating {
    doLast {
        each {
            println(it.name)
        }
        println()
        each {
            println(it.name)
        }
    }
}</pre><p>Output of <strong class="userinput"><code>gradle -q listConfigs</code></strong></p><pre class="screen">&gt; gradle -q listConfigs
client-1.5.jar

client-1.4.jar</pre></div></div><br class="example-break"><p>The next example demonstrates <code class="literal">latest</code> selectors based on a custom status scheme declared in a component metadata rule that applies to all modules:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="customStatusScheme"></a><p class="title"><b>Example&nbsp;216.&nbsp;Custom status scheme</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentMetadataDetails 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">13.</span>
           all { ComponentMetadataDetails details -&gt;
               ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1</span> error


dependencies {
    config3 <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:api:latest.silver"</span>
    components {
        all { ComponentMetadataDetails details -&gt;
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (details.id.group == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample"</span> &amp;&amp; details.id.name == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"api"</span>) {
                details.statusScheme = [<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"bronze"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"silver"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"gold"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"platinum"</span>]
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>Component metadata rules can be applied to a specified module. Modules must be specified in the form of "group:module".</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="customStatusSchemeModule"></a><p class="title"><b>Example&nbsp;217.&nbsp;Custom status scheme by module</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentMetadataDetails 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">38.</span>
           withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.sample:lib'</span>) { ComponentMetadataDetails details -&gt;
                                        ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1</span> error


dependencies {
    config4 <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:lib:latest.prod"</span>
    components {
        withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.sample:lib'</span>) { ComponentMetadataDetails details -&gt;
            details.statusScheme = [<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"int"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"rc"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"prod"</span>]
        }
    }
}
</pre></div></div><br class="example-break"><p>Gradle can also create component metadata rules utilizing Ivy-specific metadata for modules resolved from an Ivy repository. Values from the Ivy descriptor are made available via the <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ivy/IvyModuleDescriptor.html" target="_top"><code class="classname">IvyModuleDescriptor</code></a> interface.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="ivyComponentMetadataRule"></a><p class="title"><b>Example&nbsp;218.&nbsp;Ivy component metadata rule</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentMetadataDetails 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">38.</span>
           withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:lib"</span>) { ComponentMetadataDetails details, IvyModuleDescriptor ivyModule -&gt;
                                        ^

build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> IvyModuleDescriptor 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">38.</span>
           withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:lib"</span>) { ComponentMetadataDetails details, IvyModuleDescriptor ivyModule -&gt;
                                        ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span> errors


dependencies {
    config6 <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:lib:latest.rc"</span>
    components {
        withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:lib"</span>) { ComponentMetadataDetails details, IvyModuleDescriptor ivyModule -&gt;
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (ivyModule.branch == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'testing'</span>) {
                details.status = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"rc"</span>
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>Note that any rule that declares specific arguments must <span class="emphasis"><em>always</em></span> include a <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ComponentMetadataDetails.html" target="_top"><code class="classname">ComponentMetadataDetails</code></a> argument as the first argument. The second Ivy metadata argument is optional.</p><p>Component metadata rules can also be defined using a <span class="emphasis"><em>rule source</em></span> object. A rule source object is any object that contains exactly one method that defines the rule action and is annotated with <code class="literal">@Mutate</code>.</p><p>This method:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>must return void.</p></li><li class="listitem"><p>must have <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ComponentMetadataDetails.html" target="_top"><code class="classname">ComponentMetadataDetails</code></a> as the first argument.</p></li><li class="listitem"><p>may have an additional parameter of type <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ivy/IvyModuleDescriptor.html" target="_top"><code class="classname">IvyModuleDescriptor</code></a>.</p></li></ul></div><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="ruleSourceComponentMetadataRule"></a><p class="title"><b>Example&nbsp;219.&nbsp;Rule source component metadata rule</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">10</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentMetadataDetails 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">10</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">26.</span>
       <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setStatusScheme(ComponentMetadataDetails details) {
                            ^

build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">9</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> Mutate ,  unable to find <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">for</span> annotation
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">9</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">5.</span>
       <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Mutate</span>
       ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span> errors


dependencies {
    config5 <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:api:latest.gold"</span>
    components {
        withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.sample:api'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">new</span> CustomStatusRule())
    }
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> CustomStatusRule {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Mutate</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> setStatusScheme(ComponentMetadataDetails details) {
        details.statusScheme = [<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"bronze"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"silver"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"gold"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"platinum"</span>]
    }
}
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="component_selection_rules" class="section-anchor" href="#component_selection_rules"></a>Component Selection Rules</h3></div></div></div><p>Component selection rules may influence which component instance should be selected when multiple versions are available that match a version selector. Rules are applied against every available version and allow the version to be explicitly rejected by rule. This allows Gradle to ignore any component instance that does not satisfy conditions set by the rule. Examples include:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>For a dynamic version like '1.+' certain versions may be explicitly rejected from selection</p></li><li class="listitem"><p>For a static version like '1.4' an instance may be rejected based on extra component metadata such as the Ivy branch attribute, allowing an instance from a subsequent repository to be used.</p></li></ul></div><p>Rules are configured via the <a class="ulink" href="../dsl/org.gradle.api.artifacts.ComponentSelectionRules.html" target="_top"><code class="classname">ComponentSelectionRules</code></a> object. Each rule configured will be called with a <a class="ulink" href="../dsl/org.gradle.api.artifacts.ComponentSelection.html" target="_top"><code class="classname">ComponentSelection</code></a> object as an argument which contains information about the candidate version being considered. Calling <a class="ulink" href="../dsl/org.gradle.api.artifacts.ComponentSelection.html#org.gradle.api.artifacts.ComponentSelection:reject(java.lang.String)" target="_top"><code class="classname">ComponentSelection.reject(java.lang.String)</code></a> causes the given candidate version to be explicitly rejected, in which case the candidate will not be considered for the selector.</p><p>The following example shows a rule that disallows a particular version of a module but allows the dynamic version to choose the next best candidate.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="componentSelectionRulesReject"></a><p class="title"><b>Example&nbsp;220.&nbsp;Component selection rule</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">configurations {
    rejectConfig {
        resolutionStrategy {
            componentSelection {
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Accept the highest version matching the requested version that isn't '1.5'</span>
                all { ComponentSelection selection -&gt;
                    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (selection.candidate.group == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.sample'</span> &amp;&amp; selection.candidate.module == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'api'</span> &amp;&amp; selection.candidate.version == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'1.5'</span>) {
                        selection.reject(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"version 1.5 is broken for 'org.sample:api'"</span>)
                    }
                }
            }
        }
    }
}

dependencies {
    rejectConfig <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:api:1.+"</span>
}
</pre></div></div><br class="example-break"><p>Note that version selection is applied starting with the highest version first. The version selected will be the first version found that all component selection rules accept. A version is considered accepted no rule explicitly rejects it.</p><p>Similarly, rules can be targeted at specific modules. Modules must be specified in the form of "group:module".</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="componentSelectionRulesTarget"></a><p class="title"><b>Example&nbsp;221.&nbsp;Component selection rule with module target</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">5</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentSelection 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">5</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">46.</span>
    withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:api"</span>) { Componen
                                 ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1</span> error


configurations {
    targetConfig {
        resolutionStrategy {
            componentSelection {
                withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"org.sample:api"</span>) { ComponentSelection selection -&gt;
                    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (selection.candidate.version == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"1.5"</span>) {
                        selection.reject(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"version 1.5 is broken for 'org.sample:api'"</span>)
                    }
                }
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>Component selection rules can also consider component metadata when selecting a version. Possible metadata arguments that can be considered are <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ComponentMetadata.html" target="_top"><code class="classname">ComponentMetadata</code></a> and <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ivy/IvyModuleDescriptor.html" target="_top"><code class="classname">IvyModuleDescriptor</code></a>.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="componentSelectionRulesMetadata"></a><p class="title"><b>Example&nbsp;222.&nbsp;Component selection rule with metadata</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">6</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentSelection 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">6</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">21.</span>
                   all { ComponentSelection selection, ComponentMetadata metadata -&gt;
                       ^

build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">6</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentMetadata 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">6</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">21.</span>
                   all { ComponentSelection selection, ComponentMetadata metadata -&gt;
                       ^

build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">12</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentSelection 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">12</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">46.</span>
    withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.sample:api'</span>) { Componen
                                 ^

build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">12</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> IvyModuleDescriptor 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">12</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">46.</span>
    withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.sample:api'</span>) { Componen
                                 ^

build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">12</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentMetadata 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">12</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">46.</span>
    withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.sample:api'</span>) { Componen
                                 ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">5</span> errors


configurations {
    metadataRulesConfig {
        resolutionStrategy {
            componentSelection {
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Reject any versions with a status of 'experimental'</span>
                all { ComponentSelection selection, ComponentMetadata metadata -&gt;
                    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (selection.candidate.group == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.sample'</span> &amp;&amp; metadata.status == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'experimental'</span>) {
                        selection.reject(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"don't use experimental candidates from 'org.sample'"</span>)
                    }
                }
                <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Accept the highest version with either a "release" branch or a status of 'milestone'</span>
                withModule(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org.sample:api'</span>) { ComponentSelection selection, IvyModuleDescriptor descriptor, ComponentMetadata metadata -&gt;
                    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (descriptor.branch != <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"release"</span> &amp;&amp; metadata.status != <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'milestone'</span>) {
                        selection.reject(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"'org.sample:api' must have testing branch or milestone status"</span>)
                    }
                }
            }
        }
    }
}
</pre></div></div><br class="example-break"><p>Note that a <a class="ulink" href="../dsl/org.gradle.api.artifacts.ComponentSelection.html" target="_top"><code class="classname">ComponentSelection</code></a> argument is <span class="emphasis"><em>always</em></span> required as the first parameter when declaring a component selection rule with additional Ivy metadata parameters, but the metadata parameters can be declared in any order.</p><p>Lastly, component selection rules can also be defined using a <span class="emphasis"><em>rule source</em></span> object. A rule source object is any object that contains exactly one method that defines the rule action and is annotated with <code class="literal">@Mutate</code>.</p><p>This method:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>must return void.</p></li><li class="listitem"><p>must have <a class="ulink" href="../dsl/org.gradle.api.artifacts.ComponentSelection.html" target="_top"><code class="classname">ComponentSelection</code></a> as the first argument.</p></li><li class="listitem"><p>may have additional parameters of type <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ComponentMetadata.html" target="_top"><code class="classname">ComponentMetadata</code></a> and/or <a class="ulink" href="../javadoc/org/gradle/api/artifacts/ivy/IvyModuleDescriptor.html" target="_top"><code class="classname">IvyModuleDescriptor</code></a>.</p></li></ul></div><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="componentSelectionRulesRuleSource"></a><p class="title"><b>Example&nbsp;223.&nbsp;Component selection rule using a rule source object</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// ERROR: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:</span>
build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">3</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> ComponentSelection 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">3</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">23.</span>
       <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> evaluateRule(ComponentSelection selection, IvyModuleDescriptor ivy) {
                         ^

build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">3</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> IvyModuleDescriptor 
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">3</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">53.</span>
   ComponentSelection selection, IvyModuleD
                                 ^

build.gradle: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>: unable to resolve <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> Mutate ,  unable to find <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">for</span> annotation
 @ line <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">2</span>, column <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">5.</span>
       <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Mutate</span>
       ^

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">3</span> errors


<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">class</span> RejectTestBranch {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-annotation">@Mutate</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">void</span> evaluateRule(ComponentSelection selection, IvyModuleDescriptor ivy) {
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (ivy.branch == <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"test"</span>) {
            selection.reject(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"reject test branch"</span>)
        }
    }
}

configurations {
    ruleSourceConfig {
        resolutionStrategy {
            componentSelection {
                all <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">new</span> RejectTestBranch()
            }
        }
    }
}
</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:module_replacement" class="section-anchor" href="#sec:module_replacement"></a>Module replacement rules</h3></div></div></div><p>Module replacement rules allow a build to declare that a legacy library has been replaced by a new one. A good example when a new library replaced a legacy one is the "google-collections" -&gt; "guava" migration. The team that created google-collections decided to change the module name from "com.google.collections:google-collections" into "com.google.guava:guava". This is a legal scenario in the industry: teams need to be able to change the names of products they maintain, including the module coordinates. Renaming of the module coordinates has impact on conflict resolution.</p><p>To explain the impact on conflict resolution, let&rsquo;s consider the "google-collections" -&gt; "guava" scenario. It may happen that both libraries are pulled into the same dependency graph. For example, "our" project depends on guava but some of our dependencies pull in a legacy version of google-collections. This can cause runtime errors, for example during test or application execution. Gradle does not automatically resolve the google-collections VS guava conflict because it is not considered as a "version conflict". It&rsquo;s because the module coordinates for both libraries are completely different and conflict resolution is activated when "group" and "name" coordinates are the same but there are different versions available in the dependency graph (for more info, refer to the section on conflict resolution). Traditional remedies to this problem are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Declare exclusion rule to avoid pulling in "google-collections" to graph. It is probably the most popular approach.</p></li><li class="listitem"><p>Avoid dependencies that pull in legacy libraries.</p></li><li class="listitem"><p>Upgrade the dependency version if the new version no longer pulls in a legacy library.</p></li><li class="listitem"><p>Downgrade to "google-collections". It&rsquo;s not recommended, just mentioned for completeness.</p></li></ul></div><p>Traditional approaches work but they are not general enough. For example, an organisation wants to resolve the google-collections VS guava conflict resolution problem in all projects. Starting from Gradle 2.2 it is possible to declare that certain module was replaced by other. This enables organisations to include the information about module replacement in the corporate plugin suite and resolve the problem holistically for all Gradle-powered projects in the enterprise.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="module_replacement_declaration"></a><p class="title"><b>Example&nbsp;224.&nbsp;Declaring module replacement</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">dependencies {
    modules {
        module(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"com.google.collections:google-collections"</span>) {
            replacedBy(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"com.google.guava:guava"</span>)
        }
    }
}</pre></div></div><br class="example-break"><p>For more examples and detailed API, refer to the DSL reference for <a class="ulink" href="../dsl/org.gradle.api.artifacts.dsl.ComponentMetadataHandler.html" target="_top"><code class="classname">ComponentMetadataHandler</code></a>.</p><p>What happens when we declare that "google-collections" are replaced by "guava"? Gradle can use this information for conflict resolution. Gradle will consider every version of "guava" newer/better than any version of "google-collections". Also, Gradle will ensure that only guava jar is present in the classpath / resolved file list. Note that if only "google-collections" appears in the dependency graph (e.g. no "guava") Gradle will not eagerly replace it with "guava". Module replacement is an information that Gradle uses for resolving conflicts. If there is no conflict (e.g. only "google-collections" or only "guava" in the graph) the replacement information is not used.</p><p>Currently it is not possible to declare that certain modules is replaced by a set of modules. However, it is possible to declare that multiple modules are replaced by a single module.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:dependency_cache" class="section-anchor" href="#sec:dependency_cache"></a>The dependency cache</h2></div></div></div><p>Gradle contains a highly sophisticated dependency caching mechanism, which seeks to minimise the number of remote requests made in dependency resolution, while striving to guarantee that the results of dependency resolution are correct and reproducible.</p><p>The Gradle dependency cache consists of 2 key types of storage:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A file-based store of downloaded artifacts, including binaries like jars as well as raw downloaded meta-data like POM files and Ivy files. The storage path for a downloaded artifact includes the SHA1 checksum, meaning that 2 artifacts with the same name but different content can easily be cached.</p></li><li class="listitem"><p>A binary store of resolved module meta-data, including the results of resolving dynamic versions, module descriptors, and artifacts.</p></li></ul></div><p>Separating the storage of downloaded artifacts from the cache metadata permits us to do some very powerful things with our cache that would be difficult with a transparent, file-only cache layout.</p><p>The Gradle cache does not allow the local cache to hide problems and create other mysterious and difficult to debug behavior that has been a challenge with many build tools. This new behavior is implemented in a bandwidth and storage efficient way. In doing so, Gradle enables reliable and reproducible enterprise builds.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:cache_features" class="section-anchor" href="#sec:cache_features"></a>Key features of the Gradle dependency cache</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:cache_metadata" class="section-anchor" href="#sub:cache_metadata"></a>Separate metadata cache</h4></div></div></div><p>Gradle keeps a record of various aspects of dependency resolution in binary format in the metadata cache. The information stored in the metadata cache includes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The result of resolving a dynamic version (e.g. <code class="literal">1.+</code>) to a concrete version (e.g. <code class="literal">1.2</code>).</p></li><li class="listitem"><p>The resolved module metadata for a particular module, including module artifacts and module dependencies.</p></li><li class="listitem"><p>The resolved artifact metadata for a particular artifact, including a pointer to the downloaded artifact file.</p></li><li class="listitem"><p>The <span class="emphasis"><em>absence</em></span> of a particular module or artifact in a particular repository, eliminating repeated attempts to access a resource that does not exist.</p></li></ul></div><p>Every entry in the metadata cache includes a record of the repository that provided the information as well as a timestamp that can be used for cache expiry.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:cache_repository_independence" class="section-anchor" href="#sub:cache_repository_independence"></a>Repository caches are independent</h4></div></div></div><p>As described above, for each repository there is a separate metadata cache. A repository is identified by its URL, type and layout. If a module or artifact has not been previously resolved from <span class="emphasis"><em>this repository</em></span>, Gradle will attempt to resolve the module against the repository. This will always involve a remote lookup on the repository, however in many cases no download will be required (see <a class="xref" href="dependency_management.html#sub:cache_artifact_reuse">the section called &ldquo;Artifact reuse&rdquo;</a>, below).</p><p>Dependency resolution will fail if the required artifacts are not available in any repository specified by the build, even if the local cache has a copy of this artifact which was retrieved from a different repository. Repository independence allows builds to be isolated from each other in an advanced way that no build tool has done before. This is a key feature to create builds that are reliable and reproducible in any environment.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:cache_artifact_reuse" class="section-anchor" href="#sub:cache_artifact_reuse"></a>Artifact reuse</h4></div></div></div><p>Before downloading an artifact, Gradle tries to determine the checksum of the required artifact by downloading the sha file associated with that artifact. If the checksum can be retrieved, an artifact is not downloaded if an artifact already exists with the same id and checksum. If the checksum cannot be retrieved from the remote server, the artifact will be downloaded (and ignored if it matches an existing artifact).</p><p>As well as considering artifacts downloaded from a different repository, Gradle will also attempt to reuse artifacts found in the local Maven Repository. If a candidate artifact has been downloaded by Maven, Gradle will use this artifact if it can be verified to match the checksum declared by the remote server.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:cache_checksum_storage" class="section-anchor" href="#sub:cache_checksum_storage"></a>Checksum based storage</h4></div></div></div><p>It is possible for different repositories to provide a different binary artifact in response to the same artifact identifier. This is often the case with Maven SNAPSHOT artifacts, but can also be true for any artifact which is republished without changing its identifier. By caching artifacts based on their SHA1 checksum, Gradle is able to maintain multiple versions of the same artifact. This means that when resolving against one repository Gradle will never overwrite the cached artifact file from a different repository. This is done without requiring a separate artifact file store per repository.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:cache_locking" class="section-anchor" href="#sub:cache_locking"></a>Cache Locking</h4></div></div></div><p>The Gradle dependency cache uses file-based locking to ensure that it can safely be used by multiple Gradle processes concurrently. The lock is held whenever the binary meta-data store is being read or written, but is released for slow operations such as downloading remote artifacts.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:cache_command_line_options" class="section-anchor" href="#sec:cache_command_line_options"></a>Command line options to override caching</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:cache_offline" class="section-anchor" href="#sub:cache_offline"></a>Offline</h4></div></div></div><p>The <code class="literal">--offline</code> command line switch tells Gradle to always use dependency modules from the cache, regardless if they are due to be checked again. When running with offline, Gradle will never attempt to access the network to perform dependency resolution. If required modules are not present in the dependency cache, build execution will fail.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:cache_refresh" class="section-anchor" href="#sub:cache_refresh"></a>Refresh</h4></div></div></div><p>At times, the Gradle Dependency Cache can be out of sync with the actual state of the configured repositories. Perhaps a repository was initially misconfigured, or perhaps a &ldquo;non-changing&rdquo; module was published incorrectly. To refresh all dependencies in the dependency cache, use the <code class="literal">--refresh-dependencies</code> option on the command line.</p><p>The <code class="literal">--refresh-dependencies</code> option tells Gradle to ignore all cached entries for resolved modules and artifacts. A fresh resolve will be performed against all configured repositories, with dynamic versions recalculated, modules refreshed, and artifacts downloaded. However, where possible Gradle will check if the previously downloaded artifacts are valid before downloading again. This is done by comparing published SHA1 values in the repository with the SHA1 values for existing downloaded artifacts.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:controlling_caching" class="section-anchor" href="#sec:controlling_caching"></a>Fine-tuned control over dependency caching</h3></div></div></div><p>You can fine-tune certain aspects of caching using the <code class="literal">ResolutionStrategy</code> for a configuration.</p><p>By default, Gradle caches dynamic versions for 24 hours. To change how long Gradle will cache the resolved version for a dynamic version, use:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="dynamic-version-cache-control"></a><p class="title"><b>Example&nbsp;225.&nbsp;Dynamic version cache control</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">all {
    cacheDynamicVersionsFor(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">10</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"minutes"</span>)
}</pre></div></div><br class="example-break"><p>By default, Gradle caches changing modules for 24 hours. To change how long Gradle will cache the meta-data and artifacts for a changing module, use:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="changing-module-cache-control"></a><p class="title"><b>Example&nbsp;226.&nbsp;Changing module cache control</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">all {
    cacheChangingModulesFor(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">4</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"hours"</span>)
}</pre></div></div><br class="example-break"><p>For more details, take a look at the API documentation for <a class="ulink" href="../dsl/org.gradle.api.artifacts.ResolutionStrategy.html" target="_top"><code class="classname">ResolutionStrategy</code></a>.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:dependency_management_overview" class="section-anchor" href="#sec:dependency_management_overview"></a>Dependency management best practices</h2></div></div></div><p>While Gradle has strong opinions on dependency management, the tool gives you a choice between two options: follow recommended best practices or support any kind of pattern you can think of. This section outlines the Gradle project&rsquo;s recommended best practices for managing dependencies.</p><p>No matter what the language, proper dependency management is important for every project. From a complex enterprise application written in Java depending on hundreds of open source libraries to the simplest Clojure application depending on a handful of libraries, approaches to dependency management vary widely and can depend on the target technology, the method of application deployment, and the nature of the project. Projects bundled as reusable libraries may have different requirements than enterprise applications integrated into much larger systems of software and infrastructure. Despite this wide variation of requirements, the Gradle project recommends that all projects follow this set of core rules:</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:versioning_the_jar_name" class="section-anchor" href="#sub:versioning_the_jar_name"></a>Put the Version in the Filename (Version the jar)</h3></div></div></div><p>The version of a library must be part of the filename. While the version of a jar is usually in the Manifest file, it isn&rsquo;t readily apparent when you are inspecting a project. If someone asks you to look at a collection of 20 jar files, which would you prefer? A collection of files with names like <code class="literal">commons-beanutils-1.3.jar</code> or a collection of files with names like <code class="literal">spring.jar</code>? If dependencies have file names with version numbers you can quickly identify the versions of your dependencies.</p><p>If versions are unclear you can introduce subtle bugs which are very hard to find. For example there might be a project which uses Hibernate 2.5. Think about a developer who decides to install version 3.0.5 of Hibernate on her machine to fix a critical security bug but forgets to notify others in the team of this change. She may address the security bug successfully, but she also may have introduced subtle bugs into a codebase that was using a now-deprecated feature from Hibernate. Weeks later there is an exception on the integration machine which can&rsquo;t be reproduced on anyone&rsquo;s machine. Multiple developers then spend days on this issue only finally realising that the error would have been easy to uncover if they knew that Hibernate had been upgraded from 2.5 to 3.0.5.</p><p>Versions in jar names increase the expressiveness of your project and make them easier to maintain. This practice also reduces the potential for error.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:transitive_dependency_management" class="section-anchor" href="#sub:transitive_dependency_management"></a>Manage transitive dependencies</h3></div></div></div><p>Transitive dependency management is a technique that enables your project to depend on libraries which, in turn, depend on other libraries. This recursive pattern of transitive dependencies results in a tree of dependencies including your project&rsquo;s first-level dependencies, second-level dependencies, and so on. If you don&rsquo;t model your dependencies as a hierarchical tree of first-level and second-level dependencies it is very easy to quickly lose control over an assembled mess of unstructured dependencies. Consider the Gradle project itself, while Gradle only has a few direct, first-level dependencies, when Gradle is compiled it needs more than one hundred dependencies on the classpath. On a far larger scale, Enterprise projects using Spring, Hibernate, and other libraries, alongside hundreds or thousands of internal projects, can result in very large dependency trees.</p><p>When these large dependency trees need to change, you&rsquo;ll often have to solve some dependency version conflicts. Say one open source library needs one version of a logging library and a another uses an alternative version. Gradle and other build tools all have the ability to resolve conflicts, but what differentiates Gradle is the control it gives you over transitive dependencies and conflict resolution.</p><p>While you could try to manage this problem manually, you will quickly find that this approach doesn&rsquo;t scale. If you want to get rid of a first level dependency you really can&rsquo;t be sure which other jars you should remove. A dependency of a first level dependency might also be a first level dependency itself, or it might be a transitive dependency of yet another first level dependency. If you try to manage transitive dependencies yourself, the end of the story is that your build becomes brittle: no one dares to change your dependencies because the risk of breaking the build is too high. The project classpath becomes a complete mess, and, if a classpath problem arises, hell on earth invites you for a ride.</p><div class="note"><p><span class="emphasis"><em>NOTE:</em></span> In one project, we found a mystery LDAP related jar in the classpath. No code referenced this jar and there was no connection to the project. No one could figure out what the jar was for, until it was removed from the build and the application suffered massive performance problems whenever it attempted to authenticate to LDAP. This mystery jar was a necessary transitive, fourth-level dependency that was easy to miss because no one had bothered to use managed transitive dependencies.</p></div><p>Gradle offers you different ways to express first-level and transitive dependencies. With Gradle you can mix and match approaches; for example, you could store your jars in an SCM without XML descriptor files and still use transitive dependency management.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:version_conflicts" class="section-anchor" href="#sub:version_conflicts"></a>Resolve version conflicts</h3></div></div></div><p>Conflicting versions of the same jar should be detected and either resolved or cause an exception. If you don&rsquo;t use transitive dependency management, version conflicts are undetected and the often accidental order of the classpath will determine what version of a dependency will win. On a large project with many developers changing dependencies, successful builds will be few and far between as the order of dependencies may directly affect whether a build succeeds or fails (or whether a bug appears or disappears in production).</p><p>If you haven&rsquo;t had to deal with the curse of conflicting versions of jars on a classpath, here is a small anecdote of the fun that awaits you. In a large project with 30 submodules, adding a dependency to a subproject changed the order of a classpath, swapping Spring 2.5 for an older 2.4 version. While the build continued to work, developers were starting to notice all sorts of surprising (and surprisingly awful) bugs in production. Worse yet, this unintentional downgrade of Spring introduced several security vulnerabilities into the system, which now required a full security audit throughout the organization.</p><p>In short, version conflicts are bad, and you should manage your transitive dependencies to avoid them. You might also want to learn where conflicting versions are used and consolidate on a particular version of a dependency across your organization. With a good conflict reporting tool like Gradle, that information can be used to communicate with the entire organization and standardize on a single version. <span class="emphasis"><em>If you think version conflicts don&rsquo;t happen to you, think again.</em></span> It is very common for different first-level dependencies to rely on a range of different overlapping versions for other dependencies, and the JVM doesn&rsquo;t yet offer an easy way to have different versions of the same jar in the classpath (see <a class="xref" href="dependency_management.html#sub:dependency_management_and_java">the section called &ldquo;Dependency management and Java&rdquo;</a>).</p><p>Gradle offers the following conflict resolution strategies:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="emphasis"><em>Newest</em></span>: The newest version of the dependency is used. This is Gradle&rsquo;s default strategy, and is often an appropriate choice as long as versions are backwards-compatible.</p></li><li class="listitem"><p><span class="emphasis"><em>Fail</em></span>: A version conflict results in a build failure. This strategy requires all version conflicts to be resolved explicitly in the build script. See <a class="ulink" href="../dsl/org.gradle.api.artifacts.ResolutionStrategy.html" target="_top"><code class="classname">ResolutionStrategy</code></a> for details on how to explicitly choose a particular version.</p></li></ul></div><p>While the strategies introduced above are usually enough to solve most conflicts, Gradle provides more fine-grained mechanisms to resolve version conflicts:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Configuring a first level dependency as <span class="emphasis"><em>forced</em></span>. This approach is useful if the dependency in conflict is already a first level dependency. See examples in <a class="ulink" href="../dsl/org.gradle.api.artifacts.dsl.DependencyHandler.html" target="_top"><code class="classname">DependencyHandler</code></a>.</p></li><li class="listitem"><p>Configuring any dependency (transitive or not) as <span class="emphasis"><em>forced</em></span>. This approach is useful if the dependency in conflict is a transitive dependency. It also can be used to force versions of first level dependencies. See examples in <a class="ulink" href="../dsl/org.gradle.api.artifacts.ResolutionStrategy.html" target="_top"><code class="classname">ResolutionStrategy</code></a>.</p></li><li class="listitem"><p>Configuring dependency resolution to <span class="emphasis"><em>prefer modules that are part of your build</em></span> (transitive or not). This approach is useful if your build contains custom forks of modules (as part of <a class="xref" href="multi_project_builds.html"><i>Authoring Multi-Project Builds</i></a> or as include in <a class="xref" href="composite_builds.html"><i>Composite builds</i></a>). See examples in <a class="ulink" href="../dsl/org.gradle.api.artifacts.ResolutionStrategy.html" target="_top"><code class="classname">ResolutionStrategy</code></a>.</p></li><li class="listitem"><p>Dependency resolve rules are an <a class="link" href="feature_lifecycle.html">incubating</a> feature give you fine-grained control over the version selected for a particular dependency.</p></li></ul></div><p>To deal with problems due to version conflicts, reports with dependency graphs are also very helpful. Such reports are another feature of dependency management.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:dynamic_versions_and_changing_modules" class="section-anchor" href="#sub:dynamic_versions_and_changing_modules"></a>Use Dynamic Versions and Changing Modules</h3></div></div></div><p>There are many situations when you want to use the latest version of a particular dependency, or the latest in a range of versions. This can be a requirement during development, or you may be developing a library that is designed to work with a range of dependency versions. You can easily depend on these constantly changing dependencies by using a <span class="emphasis"><em>dynamic version</em></span>. A dynamic version can be either a version range (e.g. <code class="literal">2.+</code>) or it can be a placeholder for the latest version available (e.g. <code class="literal">latest.integration</code>).</p><p>Alternatively, sometimes the module you request can change over time, even for the same version. An example of this type of <span class="emphasis"><em>changing module</em></span> is a Maven <code class="literal">SNAPSHOT</code> module, which always points at the latest artifact published. In other words, a standard Maven snapshot is a module that never stands still so to speak, it is a &ldquo;changing module&rdquo;.</p><p>The main difference between a <span class="emphasis"><em>dynamic version</em></span> and a <span class="emphasis"><em>changing module</em></span> is that when you resolve a <span class="emphasis"><em>dynamic version</em></span>, you&rsquo;ll get the real, static version as the module name. When you resolve a <span class="emphasis"><em>changing module</em></span>, the artifacts are named using the version you requested, but the underlying artifacts may change over time.</p><p>By default, Gradle caches dynamic versions and changing modules for 24 hours. You can override the default cache modes using <a class="link" href="dependency_management.html#sec:cache_command_line_options">command line options</a>. You can change the cache expiry times in your build using the resolution strategy (see <a class="xref" href="dependency_management.html#sec:controlling_caching">the section called &ldquo;Fine-tuned control over dependency caching&rdquo;</a>).</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:strategies_of_transitive_dependency_management" class="section-anchor" href="#sec:strategies_of_transitive_dependency_management"></a>Strategies for transitive dependency management</h2></div></div></div><p>Many projects rely on the <a class="ulink" href="https://repo.maven.apache.org/maven2" target="_top">Maven Central repository</a>. This is not without problems.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The Maven Central repository can be down or can be slow to respond.</p></li><li class="listitem"><p>The POM files of many popular projects specify dependencies or other configuration that are just plain wrong (for instance, the POM file of the &ldquo;<code class="literal">commons-httpclient-3.0</code>&rdquo; module declares JUnit as a runtime dependency).</p></li><li class="listitem"><p>For many projects there is not one right set of dependencies (as more or less imposed by the POM format).</p></li></ul></div><p>If your project relies on the Maven Central repository you are likely to need an additional custom repository, because:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>You might need dependencies that are not uploaded to Maven Central yet.</p></li><li class="listitem"><p>You want to deal properly with invalid metadata in a Maven Central POM file.</p></li><li class="listitem"><p>You don&rsquo;t want to expose people to the downtimes or slow response of Maven Central, if they just want to build your project.</p></li></ul></div><p>It is not a big deal to set-up a custom repository,<sup>[<a href="#ftn.N1399E" name="N1399E" class="footnote">9</a>]</sup> but it can be tedious to keep it up to date. For a new version, you always have to create the new XML descriptor and the directories. Your custom repository is another infrastructure element which might have downtimes and needs to be updated. To enable historical builds, you need to keep all the past libraries, not to mention a backup of these. It is another layer of indirection. Another source of information you have to lookup. All this is not really a big deal but in its sum it has an impact. Repository managers like Artifactory or Nexus make this easier, but most open source projects don&rsquo;t usually have a host for those products. This is changing with new services like <a class="ulink" href="http://bintray.com" target="_top">Bintray</a> that let developers host and distribute their release binaries using a self-service repository platform. Bintray also supports sharing approved artifacts though the <a class="ulink" href="http://jcenter.bintray.com" target="_top">JCenter</a> public repository to provide a single resolution address for all popular OSS Java artifacts (see <a class="xref" href="repository_types.html#sub:maven_jcenter">the section called &ldquo;JCenter Maven repository&rdquo;</a>).</p><p>This is a common reason why many projects prefer to store their libraries in their version control system. This approach is fully supported by Gradle. The libraries can be stored in a flat directory without any XML module descriptor files. Yet Gradle offers complete transitive dependency management. You can use either client module dependencies to express the dependency relations, or artifact dependencies in case a first level dependency has no transitive dependencies. People can check out such a project from your source code control system and have everything necessary to build it.</p><p>If you are working with a distributed version control system like Git you probably don&rsquo;t want to use the version control system to store libraries as people check out the whole history. But even here the flexibility of Gradle can make your life easier. For example, you can use a shared flat directory without XML descriptors and yet you can have full transitive dependency management, as described above.</p><p>You could also have a mixed strategy. If your main concern is bad metadata in the POM file and maintaining custom XML descriptors, then <span class="emphasis"><em>Client Modules</em></span> offer an alternative. However, you can still use a Maven2 repo or your custom repository as a repository for <span class="emphasis"><em>jars only</em></span> and still enjoy <span class="emphasis"><em>transitive</em></span> dependency management. Or you can only provide client modules for POMs with bad metadata. For the jars and the correct POMs you still use the remote repository.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sub:implicit_transitive_dependencies" class="section-anchor" href="#sub:implicit_transitive_dependencies"></a>Implicit transitive dependencies</h3></div></div></div><p>There is another way to deal with transitive dependencies <span class="emphasis"><em>without</em></span> XML descriptor files. You can do this with Gradle, but we don&rsquo;t recommend it. We mention it for the sake of completeness and comparison with other build tools.</p><p>The trick is to use only artifact dependencies and group them in lists. This will directly express your first level dependencies and your transitive dependencies (see <a class="xref" href="">???</a>). The problem with this is that Gradle dependency management will see this as specifying all dependencies as first level dependencies. The dependency reports won&rsquo;t show your real dependency graph and the <code class="literal">compile</code> task uses all dependencies, not just the first level dependencies. All in all, your build is less maintainable and reliable than it could be when using client modules, and you don&rsquo;t gain anything.</p></div></div><div class="footnotes"><br><hr align="left" width="100"><div class="footnote"><p><sup>[<a href="#N1399E" name="ftn.N1399E" class="para">9</a>] </sup>If you want to shield your project from the downtimes of Maven Central things get more complicated. You probably want to set-up a repository proxy for this. In an enterprise environment this is rather common. For an open source project it looks like overkill.</p></div></div></div><aside class="secondary-navigation"></aside></main><footer xmlns:xslthl="http://xslthl.sf.net" itemtype="https://schema.org/WPFooter" itemscope="itemscope" class="site-layout__footer site-footer"><nav itemtype="https://schema.org/SiteNavigationElement" class="site-footer__navigation"><section class="site-footer__links"><div class="site-footer__link-group"><header><strong>Docs</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://docs.gradle.org/userguide/userguide.html">User Manual</a></li><li itemprop="name"><a itemprop="url" href="https://docs.gradle.org/current/dsl/">DSL Reference</a></li><li itemprop="name"><a itemprop="url" href="https://docs.gradle.org/current/release-notes.html">Release Notes</a></li><li itemprop="name"><a itemprop="url" href="https://docs.gradle.org/current/javadoc/">Javadoc</a></li></ul></div><div class="site-footer__link-group"><header><strong>News</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://blog.gradle.org/">Blog</a></li><li itemprop="name"><a itemprop="url" href="https://newsletter.gradle.com/">Newsletter</a></li><li itemprop="name"><a itemprop="url" href="https://twitter.com/gradle">Twitter</a></li></ul></div><div class="site-footer__link-group"><header><strong>Products</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://gradle.com/build-scans">Build Scans</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.com/build-cache">Build Cache</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.com/enterprise/resources">Enterprise Docs</a></li></ul></div><div class="site-footer__link-group"><header><strong>Get Help</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://discuss.gradle.org/c/help-discuss">Forums</a></li><li itemprop="name"><a itemprop="url" href="https://github.com/gradle/">GitHub</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.org/training/">Training</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.org/services/">Services</a></li></ul></div></section><section class="site-footer__subscribe-newsletter"><p>Subscribe for important Gradle updates and news</p><form method="post" action="https://go.pardot.com/l/68052/2017-12-01/b8dh7j" class="newsletter-form" id="newsletter-form"><input required="" maxlength="255" pattern="[^@\s]+@[^@\s]+\.[^@\s]+" placeholder="name@email.com" type="email" name="email" class="email" id="email"><button type="submit" class="submit" id="submit">Subscribe</button></form></section></nav><div class="site-footer-secondary"><div class="site-footer-secondary__contents"><div class="site-footer__copy">&copy; <a href="https://gradle.com">Gradle Inc.</a><time>2018</time> All rights reserved.</div><div class="site-footer__logo"><a href="/"><svg xmlns="http://www.w3.org/2000/svg" class="logo-icon" viewBox="0 0 40 40" height="40" width="40"><g style="fill:none;opacity:0.7"><g fill="#11272E"><path d="M37.7 7.1C36.4 4.8 34 4 32.4 4 30.4 4 28.7 5.1 29 5.9 29.1 6 29.5 6.8 29.7 7.2 30 7.7 30.6 7.3 30.9 7.2 31.5 6.9 32.2 6.7 32.9 6.8 33.6 6.9 34.6 7.4 35.3 8.6 36.8 11.6 32.1 17.8 26.2 13.5 20.3 9.3 14.5 10.7 11.9 11.5 9.3 12.4 8.1 13.3 9.2 15.3 10.6 18 10.1 17.1 11.5 19.4 13.6 22.9 18.3 17.7 18.3 17.7 14.8 23 11.8 21.7 10.6 19.9 9.6 18.2 8.8 16.3 8.8 16.3 -0.1 19.5 2.3 33.6 2.3 33.6L6.7 33.6C7.9 28.4 11.9 28.6 12.6 33.6L15.9 33.6C18.9 23.5 26.4 33.6 26.4 33.6L30.8 33.6C29.6 26.7 33.3 24.5 35.6 20.5 37.9 16.4 40.1 11.5 37.7 7.1L37.7 7.1ZM26.3 20.5C24 19.7 24.9 17.3 24.9 17.3 24.9 17.3 26.9 18 29.6 18.9 29.5 19.6 28.1 21 26.3 20.5L26.3 20.5Z"/><path d="M28.4 18.7C28.5 19.3 28 19.9 27.3 20 26.6 20.1 26 19.6 26 18.9 25.9 18.3 26.4 17.7 27.1 17.6 27.7 17.6 28.3 18 28.4 18.7"/><path d="M37.7 7.1C36.4 4.8 34 4 32.4 4 30.4 4 28.7 5.1 29 5.9 29.1 6 29.5 6.8 29.7 7.2 30 7.7 30.6 7.3 30.9 7.2 31.5 6.9 32.2 6.7 32.9 6.8 33.6 6.9 34.6 7.4 35.3 8.6 36.8 11.6 32.1 17.8 26.2 13.5 20.3 9.3 14.5 10.7 11.9 11.5 9.3 12.4 8.1 13.3 9.2 15.3 10.6 18 10.1 17.1 11.5 19.4 13.6 22.9 18.3 17.7 18.3 17.7 14.8 23 11.8 21.7 10.6 19.9 9.6 18.2 8.8 16.3 8.8 16.3 -0.1 19.5 2.3 33.6 2.3 33.6L6.7 33.6C7.9 28.4 11.9 28.6 12.6 33.6L15.9 33.6C18.9 23.5 26.4 33.6 26.4 33.6L30.8 33.6C29.6 26.7 33.3 24.5 35.6 20.5 37.9 16.4 40.1 11.5 37.7 7.1L37.7 7.1ZM26.3 20.5C24 19.7 24.9 17.3 24.9 17.3 24.9 17.3 26.9 18 29.6 18.9 29.5 19.6 28.1 21 26.3 20.5L26.3 20.5Z"/><path d="M28.4 18.7C28.5 19.3 28 19.9 27.3 20 26.6 20.1 26 19.6 26 18.9 25.9 18.3 26.4 17.7 27.1 17.6 27.7 17.6 28.3 18 28.4 18.7"/></g></g></svg></a></div><div class="site-footer-secondary__links"><a href="https://gradle.com/careers">Careers</a> |
                        <a href="https://gradle.org/privacy">Privacy</a> |
                        <a href="https://gradle.org/terms">Terms of Service</a> |
                        <a href="https://gradle.org/contact/">Contact</a></div></div></div></footer><script type="text/javascript">
                    // Polyfill Element.matches()
                    if (!Element.prototype.matches) {
                        Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
                    }
                    // Polyfill Element.closest()
                    if (!Element.prototype.closest) {
                        Element.prototype.closest = function(s) {
                            var el = this;
                            if (!document.documentElement.contains(el)) return null;
                            do {
                                if (typeof el.matches === "function" && el.matches(s)) return el;
                                el = el.parentElement || el.parentNode;
                            } while (el !== null);
                            return null;
                        };
                    }
                    [].forEach.call(document.querySelectorAll(".docs-navigation a[href$='"+ window.location.pathname +"']"), function(link) {
                        // Add "active" to all links same as current URL
                        link.classList.add("active");

                        // Expand all parent navigation
                        var parentListEl = link.closest("li");
                        while (parentListEl !== null) {
                            var dropDownEl = parentListEl.querySelector(".nav-dropdown");
                            if (dropDownEl !== null) {
                                dropDownEl.classList.add("expanded");
                            }
                            parentListEl = parentListEl.parentNode.closest("li");
                        }
                    });

                    // Expand/contract multi-level side navigation
                    [].forEach.call(document.querySelectorAll(".docs-navigation .nav-dropdown"), function registerSideNavActions(collapsibleElement) {
                        collapsibleElement.addEventListener("click", function toggleExpandedSideNav(evt) {
                            evt.preventDefault();
                            evt.target.classList.toggle("expanded");
                            evt.target.setAttribute("aria-expanded", evt.target.classList.contains("expanded").toString());
                            return false;
                        }, false);
                    });
                </script></body></html>